/*! @license Firebase v1.1.1 - License: https://www.firebase.com/terms/terms-of-service.html */ var k,aa=this;function m(a){return void 0!==a}function ba(){}function ca(a){a.gb=function(){return a.Id?a.Id:a.Id=new a}}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ea(a){return"array"==da(a)}function fa(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function q(a){return"string"==typeof a}function ga(a){return"number"==typeof a}function ha(a){return"function"==da(a)}function ia(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ja(a,b,c){return a.call.apply(a.bind,arguments)}
function ka(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function r(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka;return r.apply(null,arguments)}var la=Date.now||function(){return+new Date};
function ma(a,b){var c=a.split("."),d=aa;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&m(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function na(a,b){function c(){}c.prototype=b.prototype;a.gf=b.prototype;a.prototype=new c;a.af=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};function oa(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function pa(){this.Cc=void 0}
function qa(a,b,c){switch(typeof b){case "string":ra(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(ea(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=b[f],qa(a,a.Cc?a.Cc.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{");d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),ra(f,c),
c.push(":"),qa(a,a.Cc?a.Cc.call(b,f,e):e,c),d=","));c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}var sa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},ta=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function ra(a,b){b.push('"',a.replace(ta,function(a){if(a in sa)return sa[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return sa[a]=e+b.toString(16)}),'"')};function ua(a){return"undefined"!==typeof JSON&&m(JSON.parse)?JSON.parse(a):oa(a)}function u(a){if("undefined"!==typeof JSON&&m(JSON.stringify))a=JSON.stringify(a);else{var b=[];qa(new pa,a,b);a=b.join("")}return a};function va(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,v(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320));128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b};var wa={};function x(a,b,c,d){var e;d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c);if(e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".");}
function y(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:xa.assert(!1,"errorPrefix_ called with argumentNumber > 4.  Need to update it?")}return a=a+" failed: "+(d+" argument ")}function z(a,b,c,d){if((!d||m(c))&&!ha(c))throw Error(y(a,b,d)+"must be a valid function.");}function ya(a,b,c){if(m(c)&&(!ia(c)||null===c))throw Error(y(a,b,!0)+"must be a valid context object.");};function A(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function B(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function za(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}function Aa(a){var b={};za(a,function(a,d){b[a]=d});return b};var xa={},Ba=/[\[\].#$\/\u0000-\u001F\u007F]/,Ca=/[\[\].#$\u0000-\u001F\u007F]/;function Da(a){return q(a)&&0!==a.length&&!Ba.test(a)}function Ea(a,b,c){c&&!m(b)||Fa(y(a,1,c),b)}
function Fa(a,b,c,d){c||(c=0);d=d||[];if(!m(b))throw Error(a+"contains undefined"+Ga(d));if(ha(b))throw Error(a+"contains a function"+Ga(d)+" with contents: "+b.toString());if(Ha(b))throw Error(a+"contains "+b.toString()+Ga(d));if(1E3<c)throw new TypeError(a+"contains a cyclic object value ("+d.slice(0,100).join(".")+"...)");if(q(b)&&b.length>10485760/3&&10485760<va(b).length)throw Error(a+"contains a string greater than 10485760 utf8 bytes"+Ga(d)+" ('"+b.substring(0,50)+"...')");if(ia(b))for(var e in b)if(A(b,
e)){var f=b[e];if(".priority"!==e&&".value"!==e&&".sv"!==e&&!Da(e))throw Error(a+" contains an invalid key ("+e+")"+Ga(d)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');d.push(e);Fa(a,f,c+1,d);d.pop()}}function Ga(a){return 0==a.length?"":" in property '"+a.join(".")+"'"}function Ia(a,b){if(!ia(b)||ea(b))throw Error(y(a,1,!1)+" must be an Object containing the children to replace.");Ea(a,b,!1)}
function Ja(a,b,c,d){if(!d||m(c)){if(Ha(c))throw Error(y(a,b,d)+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, or null).");if(!(null===c||ga(c)||q(c)||ia(c)&&A(c,".sv")))throw Error(y(a,b,d)+"must be a valid Firebase priority (a string, finite number, or null).");}}
function Ka(a,b,c){if(!c||m(b))switch(b){case "value":case "child_added":case "child_removed":case "child_changed":case "child_moved":break;default:throw Error(y(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".');}}function La(a,b){if(m(b)&&!Da(b))throw Error(y(a,2,!0)+'was an invalid key: "'+b+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").');}
function Ma(a,b){if(!q(b)||0===b.length||Ca.test(b))throw Error(y(a,1,!1)+'was an invalid path: "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"');}function C(a,b){if(".info"===D(b))throw Error(a+" failed: Can't modify data under /.info/");}function Na(a,b){if(!q(b))throw Error(y(a,1,!1)+"must be a valid credential (a string).");}function Oa(a,b,c){if(!q(c))throw Error(y(a,b,!1)+"must be a valid string.");}
function E(a,b,c,d){if(!d||m(c))if(!ia(c)||null===c)throw Error(y(a,b,d)+"must be a valid object.");}function Pa(a,b,c){if(!ia(b)||null===b||!A(b,c))throw Error(y(a,1,!1)+'must contain the key "'+c+'"');if(!q(B(b,c)))throw Error(y(a,1,!1)+'must contain the key "'+c+'" with type "string"');};function F(a,b,c,d,e,f,g){this.i=a;this.path=b;this.Da=c;this.ea=d;this.ya=e;this.Ba=f;this.bb=g;if(m(this.ea)&&m(this.Ba)&&m(this.Da))throw"Query: Can't combine startAt(), endAt(), and limit().";}F.prototype.od=function(){x("Query.ref",0,0,arguments.length);return new G(this.i,this.path)};F.prototype.ref=F.prototype.od;
F.prototype.Qa=function(a,b){x("Query.on",2,4,arguments.length);Ka("Query.on",a,!1);z("Query.on",2,b,!1);var c=Qa("Query.on",arguments[2],arguments[3]);this.i.bc(this,a,b,c.cancel,c.$);return b};F.prototype.on=F.prototype.Qa;F.prototype.kb=function(a,b,c){x("Query.off",0,3,arguments.length);Ka("Query.off",a,!0);z("Query.off",2,b,!0);ya("Query.off",3,c);this.i.Bc(this,a,b,c)};F.prototype.off=F.prototype.kb;
F.prototype.Je=function(a,b){function c(g){f&&(f=!1,e.kb(a,c),b.call(d.$,g))}x("Query.once",2,4,arguments.length);Ka("Query.once",a,!1);z("Query.once",2,b,!1);var d=Qa("Query.once",arguments[2],arguments[3]),e=this,f=!0;this.Qa(a,c,function(b){e.kb(a,c);d.cancel&&d.cancel.call(d.$,b)})};F.prototype.once=F.prototype.Je;
F.prototype.ze=function(a){x("Query.limit",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw"Query.limit: First argument must be a positive integer.";return new F(this.i,this.path,a,this.ea,this.ya,this.Ba,this.bb)};F.prototype.limit=F.prototype.ze;F.prototype.$d=function(a,b){x("Query.startAt",0,2,arguments.length);Ja("Query.startAt",1,a,!0);La("Query.startAt",b);m(a)||(b=a=null);return new F(this.i,this.path,this.Da,a,b,this.Ba,this.bb)};F.prototype.startAt=F.prototype.$d;
F.prototype.Ed=function(a,b){x("Query.endAt",0,2,arguments.length);Ja("Query.endAt",1,a,!0);La("Query.endAt",b);return new F(this.i,this.path,this.Da,this.ea,this.ya,a,b)};F.prototype.endAt=F.prototype.Ed;F.prototype.se=function(a,b){x("Query.equalTo",1,2,arguments.length);Ja("Query.equalTo",1,a,!1);La("Query.equalTo",b);return this.$d(a,b).Ed(a,b)};F.prototype.equalTo=F.prototype.se;
function Ra(a){var b={};m(a.ea)&&(b.sp=a.ea);m(a.ya)&&(b.sn=a.ya);m(a.Ba)&&(b.ep=a.Ba);m(a.bb)&&(b.en=a.bb);m(a.Da)&&(b.l=a.Da);m(a.ea)&&m(a.ya)&&null===a.ea&&null===a.ya&&(b.vf="l");return b}F.prototype.Ta=function(){var a=Sa(Ra(this));return"{}"===a?"default":a};
function Qa(a,b,c){var d={};if(b&&c)d.cancel=b,z(a,3,d.cancel,!0),d.$=c,ya(a,4,d.$);else if(b)if("object"===typeof b&&null!==b)d.$=b;else if("function"===typeof b)d.cancel=b;else throw Error(wa.cf(a,3,!0)+"must either be a cancel callback or a context object.");return d};function H(a,b){if(1==arguments.length){this.u=a.split("/");for(var c=0,d=0;d<this.u.length;d++)0<this.u[d].length&&(this.u[c]=this.u[d],c++);this.u.length=c;this.W=0}else this.u=a,this.W=b}function D(a){return a.W>=a.u.length?null:a.u[a.W]}function Ta(a){var b=a.W;b<a.u.length&&b++;return new H(a.u,b)}function Ua(a){return a.W<a.u.length?a.u[a.u.length-1]:null}k=H.prototype;k.toString=function(){for(var a="",b=this.W;b<this.u.length;b++)""!==this.u[b]&&(a+="/"+this.u[b]);return a||"/"};
k.parent=function(){if(this.W>=this.u.length)return null;for(var a=[],b=this.W;b<this.u.length-1;b++)a.push(this.u[b]);return new H(a,0)};k.J=function(a){for(var b=[],c=this.W;c<this.u.length;c++)b.push(this.u[c]);if(a instanceof H)for(c=a.W;c<a.u.length;c++)b.push(a.u[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new H(b,0)};k.f=function(){return this.W>=this.u.length};k.length=function(){return this.u.length-this.W};
function Va(a,b){var c=D(a);if(null===c)return b;if(c===D(b))return Va(Ta(a),Ta(b));throw"INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")";}k.contains=function(a){var b=this.W,c=a.W;if(this.length()>a.length())return!1;for(;b<this.u.length;){if(this.u[b]!==a.u[c])return!1;++b;++c}return!0};function Wa(){this.children={};this.dc=0;this.value=null}function Xa(a,b,c){this.Ea=a?a:"";this.Nb=b?b:null;this.A=c?c:new Wa}function I(a,b){for(var c=b instanceof H?b:new H(b),d=a,e;null!==(e=D(c));)d=new Xa(e,d,B(d.A.children,e)||new Wa),c=Ta(c);return d}k=Xa.prototype;k.k=function(){return this.A.value};function Ya(a,b){v("undefined"!==typeof b,"Cannot set value to undefined");a.A.value=b;Za(a)}k.clear=function(){this.A.value=null;this.A.children={};this.A.dc=0;Za(this)};
k.Cb=function(){return 0<this.A.dc};k.f=function(){return null===this.k()&&!this.Cb()};k.B=function(a){for(var b in this.A.children)a(new Xa(b,this,this.A.children[b]))};function $a(a,b,c,d){c&&!d&&b(a);a.B(function(a){$a(a,b,!0,d)});c&&d&&b(a)}function ab(a,b,c){for(a=c?a:a.parent();null!==a;){if(b(a))return!0;a=a.parent()}return!1}k.path=function(){return new H(null===this.Nb?this.Ea:this.Nb.path()+"/"+this.Ea)};k.name=function(){return this.Ea};k.parent=function(){return this.Nb};
function Za(a){if(null!==a.Nb){var b=a.Nb,c=a.Ea,d=a.f(),e=A(b.A.children,c);d&&e?(delete b.A.children[c],b.A.dc--,Za(b)):d||e||(b.A.children[c]=a.A,b.A.dc++,Za(b))}};function bb(a,b){this.Ya=a?a:cb;this.da=b?b:db}function cb(a,b){return a<b?-1:a>b?1:0}k=bb.prototype;k.sa=function(a,b){return new bb(this.Ya,this.da.sa(a,b,this.Ya).M(null,null,!1,null,null))};k.remove=function(a){return new bb(this.Ya,this.da.remove(a,this.Ya).M(null,null,!1,null,null))};k.get=function(a){for(var b,c=this.da;!c.f();){b=this.Ya(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null};
function eb(a,b){for(var c,d=a.da,e=null;!d.f();){c=a.Ya(b,d.key);if(0===c){if(d.left.f())return e?e.key:null;for(d=d.left;!d.right.f();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?");}k.f=function(){return this.da.f()};k.count=function(){return this.da.count()};k.Ib=function(){return this.da.Ib()};k.jb=function(){return this.da.jb()};k.Ca=function(a){return this.da.Ca(a)};k.Ua=function(a){return this.da.Ua(a)};
k.hb=function(a){return new gb(this.da,a)};function gb(a,b){this.Ud=b;for(this.nc=[];!a.f();)this.nc.push(a),a=a.left}function hb(a){if(0===a.nc.length)return null;var b=a.nc.pop(),c;c=a.Ud?a.Ud(b.key,b.value):{key:b.key,value:b.value};for(b=b.right;!b.f();)a.nc.push(b),b=b.left;return c}function ib(a,b,c,d,e){this.key=a;this.value=b;this.color=null!=c?c:!0;this.left=null!=d?d:db;this.right=null!=e?e:db}k=ib.prototype;
k.M=function(a,b,c,d,e){return new ib(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)};k.count=function(){return this.left.count()+1+this.right.count()};k.f=function(){return!1};k.Ca=function(a){return this.left.Ca(a)||a(this.key,this.value)||this.right.Ca(a)};k.Ua=function(a){return this.right.Ua(a)||a(this.key,this.value)||this.left.Ua(a)};function jb(a){return a.left.f()?a:jb(a.left)}k.Ib=function(){return jb(this).key};
k.jb=function(){return this.right.f()?this.key:this.right.jb()};k.sa=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.M(null,null,null,e.left.sa(a,b,c),null):0===d?e.M(null,b,null,null,null):e.M(null,null,null,null,e.right.sa(a,b,c));return kb(e)};function lb(a){if(a.left.f())return db;a.left.R()||a.left.left.R()||(a=mb(a));a=a.M(null,null,null,lb(a.left),null);return kb(a)}
k.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))c.left.f()||c.left.R()||c.left.left.R()||(c=mb(c)),c=c.M(null,null,null,c.left.remove(a,b),null);else{c.left.R()&&(c=nb(c));c.right.f()||c.right.R()||c.right.left.R()||(c=ob(c),c.left.left.R()&&(c=nb(c),c=ob(c)));if(0===b(a,c.key)){if(c.right.f())return db;d=jb(c.right);c=c.M(d.key,d.value,null,null,lb(c.right))}c=c.M(null,null,null,null,c.right.remove(a,b))}return kb(c)};k.R=function(){return this.color};
function kb(a){a.right.R()&&!a.left.R()&&(a=pb(a));a.left.R()&&a.left.left.R()&&(a=nb(a));a.left.R()&&a.right.R()&&(a=ob(a));return a}function mb(a){a=ob(a);a.right.left.R()&&(a=a.M(null,null,null,null,nb(a.right)),a=pb(a),a=ob(a));return a}function pb(a){return a.right.M(null,null,a.color,a.M(null,null,!0,null,a.right.left),null)}function nb(a){return a.left.M(null,null,a.color,null,a.M(null,null,!0,a.left.right,null))}
function ob(a){return a.M(null,null,!a.color,a.left.M(null,null,!a.left.color,null,null),a.right.M(null,null,!a.right.color,null,null))}function qb(){}k=qb.prototype;k.M=function(){return this};k.sa=function(a,b){return new ib(a,b,null)};k.remove=function(){return this};k.count=function(){return 0};k.f=function(){return!0};k.Ca=function(){return!1};k.Ua=function(){return!1};k.Ib=function(){return null};k.jb=function(){return null};k.R=function(){return!1};var db=new qb;function rb(a){this.zb=a;this.xc="firebase:"}k=rb.prototype;k.set=function(a,b){null==b?this.zb.removeItem(this.xc+a):this.zb.setItem(this.xc+a,u(b))};k.get=function(a){a=this.zb.getItem(this.xc+a);return null==a?null:ua(a)};k.remove=function(a){this.zb.removeItem(this.xc+a)};k.Kd=!1;k.toString=function(){return this.zb.toString()};function sb(){this.vb={}}sb.prototype.set=function(a,b){null==b?delete this.vb[a]:this.vb[a]=b};sb.prototype.get=function(a){return A(this.vb,a)?this.vb[a]:null};sb.prototype.remove=function(a){delete this.vb[a]};sb.prototype.Kd=!0;function tb(a){try{if("undefined"!==typeof window&&"undefined"!==typeof window[a]){var b=window[a];b.setItem("firebase:sentinel","cache");b.removeItem("firebase:sentinel");return new rb(b)}}catch(c){}return new sb}var wb=tb("localStorage"),J=tb("sessionStorage");function xb(a,b,c,d,e){this.host=a.toLowerCase();this.domain=this.host.substr(this.host.indexOf(".")+1);this.Va=b;this.Pa=c;this.Ze=d;this.wc=e||"";this.ha=wb.get("host:"+a)||this.host}function yb(a,b){b!==a.ha&&(a.ha=b,"s-"===a.ha.substr(0,2)&&wb.set("host:"+a.host,a.ha))}xb.prototype.toString=function(){var a=(this.Va?"https://":"http://")+this.host;this.wc&&(a+="<"+this.wc+">");return a};function zb(){this.qa=-1};function Ab(){this.qa=-1;this.qa=64;this.F=[];this.Oc=[];this.fe=[];this.tc=[];this.tc[0]=128;for(var a=1;a<this.qa;++a)this.tc[a]=0;this.Hc=this.ib=0;this.reset()}na(Ab,zb);Ab.prototype.reset=function(){this.F[0]=1732584193;this.F[1]=4023233417;this.F[2]=2562383102;this.F[3]=271733878;this.F[4]=3285377520;this.Hc=this.ib=0};
function Bb(a,b,c){c||(c=0);var d=a.fe;if(q(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.F[0];c=a.F[1];for(var g=a.F[2],h=a.F[3],l=a.F[4],n,e=0;80>e;e++)40>e?20>e?(f=h^c&(g^h),n=1518500249):(f=c^g^h,n=1859775393):60>e?(f=c&g|h&(c|g),n=2400959708):(f=c^g^h,n=3395469782),f=(b<<
5|b>>>27)+f+l+n+d[e]&4294967295,l=h,h=g,g=(c<<30|c>>>2)&4294967295,c=b,b=f;a.F[0]=a.F[0]+b&4294967295;a.F[1]=a.F[1]+c&4294967295;a.F[2]=a.F[2]+g&4294967295;a.F[3]=a.F[3]+h&4294967295;a.F[4]=a.F[4]+l&4294967295}
Ab.prototype.update=function(a,b){m(b)||(b=a.length);for(var c=b-this.qa,d=0,e=this.Oc,f=this.ib;d<b;){if(0==f)for(;d<=c;)Bb(this,a,d),d+=this.qa;if(q(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.qa){Bb(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.qa){Bb(this,e);f=0;break}}this.ib=f;this.Hc+=b};function Cb(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^la()).toString(36)};var L=Array.prototype,Db=L.indexOf?function(a,b,c){return L.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(q(a))return q(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Eb=L.forEach?function(a,b,c){L.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Fb=L.filter?function(a,b,c){return L.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=q(a)?
a.split(""):a,h=0;h<d;h++)if(h in g){var l=g[h];b.call(c,l,h,a)&&(e[f++]=l)}return e},Gb=L.map?function(a,b,c){return L.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=q(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Hb=L.reduce?function(a,b,c,d){d&&(b=r(b,d));return L.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;Eb(a,function(c,g){e=b.call(d,e,c,g,a)});return e},Ib=L.every?function(a,b,c){return L.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=
q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Jb(a,b){var c;a:{c=a.length;for(var d=q(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break a}c=-1}return 0>c?null:q(a)?a.charAt(c):a[c]}function Kb(a,b){a.sort(b||Lb)}function Lb(a,b){return a>b?1:a<b?-1:0};var Mb;a:{var Nb=aa.navigator;if(Nb){var Ob=Nb.userAgent;if(Ob){Mb=Ob;break a}}Mb=""}function Pb(a){return-1!=Mb.indexOf(a)};var Qb=Pb("Opera")||Pb("OPR"),Rb=Pb("Trident")||Pb("MSIE"),Sb=Pb("Gecko")&&-1==Mb.toLowerCase().indexOf("webkit")&&!(Pb("Trident")||Pb("MSIE")),Tb=-1!=Mb.toLowerCase().indexOf("webkit");(function(){var a="",b;if(Qb&&aa.opera)return a=aa.opera.version,ha(a)?a():a;Sb?b=/rv\:([^\);]+)(\)|;)/:Rb?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Tb&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Mb))?a[1]:"");return Rb&&(b=(b=aa.document)?b.documentMode:void 0,b>parseFloat(a))?String(b):a})();var Ub=null,Vb=null;
function Wb(a,b){if(!fa(a))throw Error("encodeByteArray takes an array as a parameter");if(!Ub){Ub={};Vb={};for(var c=0;65>c;c++)Ub[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c),Vb[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(c)}for(var c=b?Vb:Ub,d=[],e=0;e<a.length;e+=3){var f=a[e],g=e+1<a.length,h=g?a[e+1]:0,l=e+2<a.length,n=l?a[e+2]:0,p=f>>2,f=(f&3)<<4|h>>4,h=(h&15)<<2|n>>6,n=n&63;l||(n=64,g||(h=64));d.push(c[p],c[f],c[h],c[n])}return d.join("")}
;var Xb=function(){var a=1;return function(){return a++}}();function v(a,b){if(!a)throw Error("Firebase INTERNAL ASSERT FAILED:"+b);}function Yb(a){try{return(new Buffer(a,"base64")).toString("utf8")}catch(b){Zb("base64DecodeIfNativeSupport failed: ",b)}return null}
function $b(a){var b=va(a);a=new Ab;a.update(b);var b=[],c=8*a.Hc;56>a.ib?a.update(a.tc,56-a.ib):a.update(a.tc,a.qa-(a.ib-56));for(var d=a.qa-1;56<=d;d--)a.Oc[d]=c&255,c/=256;Bb(a,a.Oc);for(d=c=0;5>d;d++)for(var e=24;0<=e;e-=8)b[c]=a.F[d]>>e&255,++c;return Wb(b)}function ac(a){for(var b="",c=0;c<arguments.length;c++)b=fa(arguments[c])?b+ac.apply(null,arguments[c]):"object"===typeof arguments[c]?b+u(arguments[c]):b+arguments[c],b+=" ";return b}var bc=null,cc=!0;
function Zb(a){!0===cc&&(cc=!1,null===bc&&!0===J.get("logging_enabled")&&dc(!0));if(bc){var b=ac.apply(null,arguments);bc(b)}}function ec(a){return function(){Zb(a,arguments)}}function fc(a){if("undefined"!==typeof console){var b="FIREBASE INTERNAL ERROR: "+ac.apply(null,arguments);"undefined"!==typeof console.error?console.error(b):console.log(b)}}function gc(a){var b=ac.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+b);}
function M(a){if("undefined"!==typeof console){var b="FIREBASE WARNING: "+ac.apply(null,arguments);"undefined"!==typeof console.warn?console.warn(b):console.log(b)}}
function hc(a){var b="",c="",d="",e=!0,f="https",g="";if(q(a)){var h=a.indexOf("//");0<=h&&(f=a.substring(0,h-1),a=a.substring(h+2));h=a.indexOf("/");-1===h&&(h=a.length);b=a.substring(0,h);a=a.substring(h+1);var l=b.split(".");if(3===l.length){h=l[2].indexOf(":");e=0<=h?"https"===f||"wss"===f:!0;c=l[1];d=l[0];g="";a=("/"+a).split("/");for(h=0;h<a.length;h++)if(0<a[h].length){l=a[h];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch(n){}g+="/"+l}d=d.toLowerCase()}else 2===l.length&&(c=l[0])}return{host:b,
domain:c,Ve:d,Va:e,scheme:f,Ob:g}}function Ha(a){return ga(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}function ic(a){a()}function jc(a,b){return a!==b?null===a?-1:null===b?1:typeof a!==typeof b?"number"===typeof a?-1:1:a>b?1:-1:0}function kc(a,b){if(a===b)return 0;var c=lc(a),d=lc(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}function mc(a,b){if(b&&a in b)return b[a];throw Error("Missing required key ("+a+") in object: "+u(b));}
function Sa(a){if("object"!==typeof a||null===a)return u(a);var b=[],c;for(c in a)b.push(c);b.sort();c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=u(b[d]),c+=":",c+=Sa(a[b[d]]);return c+"}"}function nc(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c}function oc(a,b){if(ea(a))for(var c=0;c<a.length;++c)b(c,a[c]);else pc(a,b)}function qc(a,b){return b?r(a,b):a}
function rc(a){v(!Ha(a),"Invalid JSON number");var b,c,d,e;0===a?(d=c=0,b=-Infinity===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074))));e=[];for(a=52;a;a-=1)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;a-=1)e.push(c%2?1:0),c=Math.floor(c/2);e.push(b?1:0);e.reverse();b=e.join("");c="";for(a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&
(d="0"+d),c+=d;return c.toLowerCase()}function sc(a){var b="Unknown Error";"too_big"===a?b="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==a?b="Client doesn't have permission to access the desired data.":"unavailable"==a&&(b="The service is unavailable");b=Error(a+": "+b);b.code=a.toUpperCase();return b}var tc=/^-?\d{1,10}$/;function lc(a){return tc.test(a)&&(a=Number(a),-2147483648<=a&&2147483647>=a)?a:null}
function uc(a){try{a()}catch(b){setTimeout(function(){throw b;},Math.floor(0))}}function O(a,b){if(ha(a)){var c=Array.prototype.slice.call(arguments,1).slice();uc(function(){a.apply(null,c)})}};function vc(a,b){this.H=a;v(null!==this.H,"LeafNode shouldn't be created with null value.");this.mb="undefined"!==typeof b?b:null}k=vc.prototype;k.Q=function(){return!0};k.m=function(){return this.mb};k.Ha=function(a){return new vc(this.H,a)};k.P=function(){return P};k.N=function(a){return null===D(a)?this:P};k.ga=function(){return null};k.K=function(a,b){return(new Q).K(a,b).Ha(this.mb)};k.Aa=function(a,b){var c=D(a);return null===c?b:this.K(c,P.Aa(Ta(a),b))};k.f=function(){return!1};k.oc=function(){return 0};
k.X=function(a){return a&&null!==this.m()?{".value":this.k(),".priority":this.m()}:this.k()};k.hash=function(){var a="";null!==this.m()&&(a+="priority:"+wc(this.m())+":");var b=typeof this.H,a=a+(b+":"),a="number"===b?a+rc(this.H):a+this.H;return $b(a)};k.k=function(){return this.H};k.toString=function(){return"string"===typeof this.H?this.H:'"'+this.H+'"'};function xc(a,b){return jc(a.ka,b.ka)||kc(a.name,b.name)}function yc(a,b){return kc(a.name,b.name)}function zc(a,b){return kc(a,b)};function Q(a,b){this.o=a||new bb(zc);this.mb="undefined"!==typeof b?b:null}k=Q.prototype;k.Q=function(){return!1};k.m=function(){return this.mb};k.Ha=function(a){return new Q(this.o,a)};k.K=function(a,b){var c=this.o.remove(a);b&&b.f()&&(b=null);null!==b&&(c=c.sa(a,b));return b&&null!==b.m()?new Ac(c,null,this.mb):new Q(c,this.mb)};k.Aa=function(a,b){var c=D(a);if(null===c)return b;var d=this.P(c).Aa(Ta(a),b);return this.K(c,d)};k.f=function(){return this.o.f()};k.oc=function(){return this.o.count()};
var Bc=/^(0|[1-9]\d*)$/;k=Q.prototype;k.X=function(a){if(this.f())return null;var b={},c=0,d=0,e=!0;this.B(function(f,g){b[f]=g.X(a);c++;e&&Bc.test(f)?d=Math.max(d,Number(f)):e=!1});if(!a&&e&&d<2*c){var f=[],g;for(g in b)f[g]=b[g];return f}a&&null!==this.m()&&(b[".priority"]=this.m());return b};k.hash=function(){var a="";null!==this.m()&&(a+="priority:"+wc(this.m())+":");this.B(function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)});return""===a?"":$b(a)};
k.P=function(a){a=this.o.get(a);return null===a?P:a};k.N=function(a){var b=D(a);return null===b?this:this.P(b).N(Ta(a))};k.ga=function(a){return eb(this.o,a)};k.Gd=function(){return this.o.Ib()};k.Hd=function(){return this.o.jb()};k.B=function(a){return this.o.Ca(a)};k.Wc=function(a){return this.o.Ua(a)};k.hb=function(){return this.o.hb()};k.toString=function(){var a="{",b=!0;this.B(function(c,d){b?b=!1:a+=", ";a+='"'+c+'" : '+d.toString()});return a+="}"};var P=new Q;function Ac(a,b,c){Q.call(this,a,c);null===b&&(b=new bb(xc),a.Ca(function(a,c){b=b.sa({name:a,ka:c.m()},c)}));this.xa=b}na(Ac,Q);k=Ac.prototype;k.K=function(a,b){var c=this.P(a),d=this.o,e=this.xa;null!==c&&(d=d.remove(a),e=e.remove({name:a,ka:c.m()}));b&&b.f()&&(b=null);null!==b&&(d=d.sa(a,b),e=e.sa({name:a,ka:b.m()},b));return new Ac(d,e,this.m())};k.ga=function(a,b){var c=eb(this.xa,{name:a,ka:b.m()});return c?c.name:null};k.B=function(a){return this.xa.Ca(function(b,c){return a(b.name,c)})};
k.Wc=function(a){return this.xa.Ua(function(b,c){return a(b.name,c)})};k.hb=function(){return this.xa.hb(function(a,b){return{key:a.name,value:b}})};k.Gd=function(){return this.xa.f()?null:this.xa.Ib().name};k.Hd=function(){return this.xa.f()?null:this.xa.jb().name};function R(a,b){if(null===a)return P;var c=null;"object"===typeof a&&".priority"in a?c=a[".priority"]:"undefined"!==typeof b&&(c=b);v(null===c||"string"===typeof c||"number"===typeof c||"object"===typeof c&&".sv"in c,"Invalid priority type found: "+typeof c);"object"===typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]);if("object"!==typeof a||".sv"in a)return new vc(a,c);if(a instanceof Array){var d=P,e=a;pc(e,function(a,b){if(A(e,b)&&"."!==b.substring(0,1)){var c=R(a);if(c.Q()||!c.f())d=
d.K(b,c)}});return d.Ha(c)}var f=[],g={},h=!1,l=a;oc(l,function(a,b){if("string"!==typeof b||"."!==b.substring(0,1)){var c=R(l[b]);c.f()||(h=h||null!==c.m(),f.push({name:b,ka:c.m()}),g[b]=c)}});var n=Cc(f,g,!1);if(h){var p=Cc(f,g,!0);return new Ac(n,p,c)}return new Q(n,c)}var Dc=Math.log(2);function Ec(a){this.count=parseInt(Math.log(a+1)/Dc,10);this.Cd=this.count-1;this.oe=a+1&parseInt(Array(this.count+1).join("1"),2)}function Fc(a){var b=!(a.oe&1<<a.Cd);a.Cd--;return b}
function Cc(a,b,c){function d(e,f){var l=f-e;if(0==l)return null;if(1==l){var l=a[e].name,n=c?a[e]:l;return new ib(n,b[l],!1,null,null)}var n=parseInt(l/2,10)+e,p=d(e,n),s=d(n+1,f),l=a[n].name,n=c?a[n]:l;return new ib(n,b[l],!1,p,s)}var e=c?xc:yc;a.sort(e);var f=function(e){function f(e,g){var h=p-e,s=p;p-=e;var t=a[h].name,h=new ib(c?a[h]:t,b[t],g,null,d(h+1,s));l?l.left=h:n=h;l=h}for(var l=null,n=null,p=a.length,s=0;s<e.count;++s){var t=Fc(e),w=Math.pow(2,e.count-(s+1));t?f(w,!1):(f(w,!1),f(w,!0))}return n}(new Ec(a.length)),
e=c?xc:zc;return null!==f?new bb(e,f):new bb(e)}function wc(a){return"number"===typeof a?"number:"+rc(a):"string:"+a};function S(a,b){this.A=a;this.Ac=b}S.prototype.X=function(){x("Firebase.DataSnapshot.val",0,0,arguments.length);return this.A.X()};S.prototype.val=S.prototype.X;S.prototype.te=function(){x("Firebase.DataSnapshot.exportVal",0,0,arguments.length);return this.A.X(!0)};S.prototype.exportVal=S.prototype.te;S.prototype.J=function(a){x("Firebase.DataSnapshot.child",0,1,arguments.length);ga(a)&&(a=String(a));Ma("Firebase.DataSnapshot.child",a);var b=new H(a),c=this.Ac.J(b);return new S(this.A.N(b),c)};
S.prototype.child=S.prototype.J;S.prototype.ad=function(a){x("Firebase.DataSnapshot.hasChild",1,1,arguments.length);Ma("Firebase.DataSnapshot.hasChild",a);var b=new H(a);return!this.A.N(b).f()};S.prototype.hasChild=S.prototype.ad;S.prototype.m=function(){x("Firebase.DataSnapshot.getPriority",0,0,arguments.length);return this.A.m()};S.prototype.getPriority=S.prototype.m;
S.prototype.forEach=function(a){x("Firebase.DataSnapshot.forEach",1,1,arguments.length);z("Firebase.DataSnapshot.forEach",1,a,!1);if(this.A.Q())return!1;var b=this;return this.A.B(function(c,d){return a(new S(d,b.Ac.J(c)))})};S.prototype.forEach=S.prototype.forEach;S.prototype.Cb=function(){x("Firebase.DataSnapshot.hasChildren",0,0,arguments.length);return this.A.Q()?!1:!this.A.f()};S.prototype.hasChildren=S.prototype.Cb;
S.prototype.name=function(){x("Firebase.DataSnapshot.name",0,0,arguments.length);return this.Ac.name()};S.prototype.name=S.prototype.name;S.prototype.oc=function(){x("Firebase.DataSnapshot.numChildren",0,0,arguments.length);return this.A.oc()};S.prototype.numChildren=S.prototype.oc;S.prototype.od=function(){x("Firebase.DataSnapshot.ref",0,0,arguments.length);return this.Ac};S.prototype.ref=S.prototype.od;function Gc(a){v(ea(a)&&0<a.length,"Requires a non-empty array");this.ge=a;this.Gb={}}Gc.prototype.Jc=function(a,b){for(var c=this.Gb[a]||[],d=0;d<c.length;d++)c[d].ba.apply(c[d].$,Array.prototype.slice.call(arguments,1))};Gc.prototype.Qa=function(a,b,c){Hc(this,a);this.Gb[a]=this.Gb[a]||[];this.Gb[a].push({ba:b,$:c});(a=this.Zc(a))&&b.apply(c,a)};Gc.prototype.kb=function(a,b,c){Hc(this,a);a=this.Gb[a]||[];for(var d=0;d<a.length;d++)if(a[d].ba===b&&(!c||c===a[d].$)){a.splice(d,1);break}};
function Hc(a,b){v(Jb(a.ge,function(a){return a===b}),"Unknown event: "+b)};function Ic(){Gc.call(this,["visible"]);var a,b;"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!==typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!==typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!==typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden"));this.ub=!0;if(b){var c=this;document.addEventListener(b,
function(){var b=!document[a];b!==c.ub&&(c.ub=b,c.Jc("visible",b))},!1)}}na(Ic,Gc);ca(Ic);Ic.prototype.Zc=function(a){v("visible"===a,"Unknown event type: "+a);return[this.ub]};function Jc(){Gc.call(this,["online"]);this.Lb=!0;if("undefined"!==typeof window&&"undefined"!==typeof window.addEventListener){var a=this;window.addEventListener("online",function(){a.Lb||a.Jc("online",!0);a.Lb=!0},!1);window.addEventListener("offline",function(){a.Lb&&a.Jc("online",!1);a.Lb=!1},!1)}}na(Jc,Gc);ca(Jc);Jc.prototype.Zc=function(a){v("online"===a,"Unknown event type: "+a);return[this.Lb]};(function(){var a=process.version;if("v0.10.22"===a||"v0.10.23"===a||"v0.10.24"===a){a=require("_stream_writable");a.prototype.write=function(a,e,h){var l=this._writableState,n=!1;"function"===typeof e&&(h=e,e=null);Buffer.isBuffer(a)?e="buffer":e||(e=l.defaultEncoding);"function"!==typeof h&&(h=function(){});l.ended?b(this,h):c(this,l,a,h)&&(n=d(this,l,a,e,h));return n};var b=function(a,b){var c=Error("write after end");a.emit("error",c);process.nextTick(function(){b(c)})},c=function(a,b,c,d){var e=
!0;if(!Buffer.isBuffer(c)&&"string"!==typeof c&&null!==c&&void 0!==c&&!b.objectMode){var p=new TypeError("Invalid non-string/buffer chunk");a.emit("error",p);process.nextTick(function(){d(p)});e=!1}return e},d=function(a,b,c,d,n){b.objectMode||!1===b.decodeStrings||"string"!==typeof c||(c=new Buffer(c,d));Buffer.isBuffer(c)&&(d="buffer");var p=b.objectMode?1:c.length;b.length+=p;var s=b.length<b.highWaterMark;s||(b.needDrain=!0);b.writing?b.buffer.push(new e(c,d,n)):(b.writelen=p,b.writecb=n,b.writing=
!0,b.sync=!0,a._write(c,d,b.onwrite),b.sync=!1);return s},e=function(a,b,c){this.chunk=a;this.encoding=b;this.callback=c};require("_stream_duplex").prototype.write=a.prototype.write}})();function pc(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function Kc(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Lc(a){for(var b in a)return!1;return!0}function Mc(a){var b={},c;for(c in a)b[c]=a[c];return b}var Nc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Pc(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Nc.length;f++)c=Nc[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Qc(){this.yb={}}function Rc(a,b,c){m(c)||(c=1);A(a.yb,b)||(a.yb[b]=0);a.yb[b]+=c}Qc.prototype.get=function(){return Mc(this.yb)};function Sc(a){this.pe=a;this.jc=null}Sc.prototype.get=function(){var a=this.pe.get(),b=Mc(a);if(this.jc)for(var c in this.jc)b[c]-=this.jc[c];this.jc=a;return b};function Tc(a,b){this.vd={};this.Ec=new Sc(a);this.n=b;var c=1E4+2E4*Math.random();setTimeout(r(this.Sd,this),Math.floor(c))}Tc.prototype.Sd=function(){var a=this.Ec.get(),b={},c=!1,d;for(d in a)0<a[d]&&A(this.vd,d)&&(b[d]=a[d],c=!0);c&&(a=this.n,a.T&&(b={c:b},a.e("reportStats",b),a.Fa("s",b)));setTimeout(r(this.Sd,this),Math.floor(6E5*Math.random()))};var Uc={},Vc={};function Wc(a){a=a.toString();Uc[a]||(Uc[a]=new Qc);return Uc[a]}function Xc(a,b){var c=a.toString();Vc[c]||(Vc[c]=b());return Vc[c]};var Yc=null,Yc=require("faye-websocket").Client;function Zc(a,b,c){this.Sc=a;this.e=ec(this.Sc);this.frames=this.Eb=null;this.Ja=this.Ka=this.xd=0;this.fa=Wc(b);this.Za=(b.Va?"wss://":"ws://")+b.ha+"/.ws?v=5";b.host!==b.ha&&(this.Za=this.Za+"&ns="+b.Pa);c&&(this.Za=this.Za+"&s="+c)}var $c;
Zc.prototype.open=function(a,b){this.ja=b;this.Ee=a;this.e("Websocket connecting to "+this.Za);this.Y=new Yc(this.Za);this.Ab=!1;wb.set("previous_websocket_failure",!0);var c=this;this.Y.onopen=function(){c.e("Websocket connected.");c.Ab=!0};this.Y.onclose=function(){c.e("Websocket connection was disconnected.");c.Y=null;c.Sa()};this.Y.onmessage=function(a){if(null!==c.Y)if(a=a.data,c.Ja+=a.length,Rc(c.fa,"bytes_received",a.length),ad(c),null!==c.frames)bd(c,a);else{a:{v(null===c.frames,"We already have a frame buffer");
if(6>=a.length){var b=Number(a);if(!isNaN(b)){c.xd=b;c.frames=[];a=null;break a}}c.xd=1;c.frames=[]}null!==a&&bd(c,a)}};this.Y.onerror=function(a){c.e("WebSocket error.  Closing connection.");(a=a.message||a.data)&&c.e(a);c.Sa()}};Zc.prototype.start=function(){};Zc.isAvailable=function(){var a=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&1<b.length&&4.4>parseFloat(b[1])&&(a=!0)}return!a&&null!==Yc&&!$c};
Zc.responsesRequiredToBeHealthy=2;Zc.healthyTimeout=3E4;k=Zc.prototype;k.kc=function(){wb.remove("previous_websocket_failure")};function bd(a,b){a.frames.push(b);if(a.frames.length==a.xd){var c=a.frames.join("");a.frames=null;c=ua(c);a.Ee(c)}}k.send=function(a){ad(this);a=u(a);this.Ka+=a.length;Rc(this.fa,"bytes_sent",a.length);a=nc(a,16384);1<a.length&&this.Y.send(String(a.length));for(var b=0;b<a.length;b++)this.Y.send(a[b])};
k.Yb=function(){this.Na=!0;this.Eb&&(clearInterval(this.Eb),this.Eb=null);this.Y&&(this.Y.close(),this.Y=null)};k.Sa=function(){this.Na||(this.e("WebSocket is closing itself"),this.Yb(),this.ja&&(this.ja(this.Ab),this.ja=null))};k.close=function(){this.Na||(this.e("WebSocket is being closed"),this.Yb())};function ad(a){clearInterval(a.Eb);a.Eb=setInterval(function(){a.Y&&a.Y.send("0");ad(a)},Math.floor(45E3))};function cd(a){this.lb=a;this.vc=[];this.ab=0;this.Rc=-1;this.Ra=null}function dd(a,b,c){a.Rc=b;a.Ra=c;a.Rc<a.ab&&(a.Ra(),a.Ra=null)}function ed(a,b,c){for(a.vc[b]=c;a.vc[a.ab];){var d=a.vc[a.ab];delete a.vc[a.ab];for(var e=0;e<d.length;++e)if(d[e]){var f=a;uc(function(){f.lb(d[e])})}if(a.ab===a.Rc){a.Ra&&(clearTimeout(a.Ra),a.Ra(),a.Ra=null);break}a.ab++}};function fd(){this.set={}}k=fd.prototype;k.add=function(a,b){this.set[a]=null!==b?b:!0};k.contains=function(a){return A(this.set,a)};k.get=function(a){return this.contains(a)?this.set[a]:void 0};k.remove=function(a){delete this.set[a]};k.clear=function(){this.set={}};k.f=function(){return Lc(this.set)};k.count=function(){var a=this.set,b=0,c;for(c in a)b++;return b};function gd(a,b){pc(a.set,function(a,d){b(d,a)})}k.keys=function(){var a=[];pc(this.set,function(b,c){a.push(c)});return a};function hd(a,b,c){this.Sc=a;this.e=ec(a);this.Ja=this.Ka=0;this.fa=Wc(b);this.Dc=c;this.Ab=!1;this.ac=function(a){b.host!==b.ha&&(a.ns=b.Pa);var c=[],f;for(f in a)a.hasOwnProperty(f)&&c.push(f+"="+a[f]);return(b.Va?"https://":"http://")+b.ha+"/.lp?"+c.join("&")}}var id,jd;
hd.prototype.open=function(a,b){this.Bd=0;this.U=b;this.Nd=new cd(a);this.Na=!1;var c=this;this.La=setTimeout(function(){c.e("Timed out trying to connect.");c.Sa();c.La=null},Math.floor(3E4));ic(function(){if(!c.Na){c.ma=new kd(function(a,b,d,h,l){ld(c,arguments);if(c.ma)if(c.La&&(clearTimeout(c.La),c.La=null),c.Ab=!0,"start"==a)c.id=b,c.Ke=d;else if("close"===a)b?(c.ma.Xd=!1,dd(c.Nd,b,function(){c.Sa()})):c.Sa();else throw Error("Unrecognized command received: "+a);},function(a,b){ld(c,arguments);
ed(c.Nd,a,b)},function(){c.Sa()},c.ac);var a={start:"t"};a.ser=Math.floor(1E8*Math.random());c.ma.Ye&&(a.cb=c.ma.Ye);a.v="5";c.Dc&&(a.s=c.Dc);a=c.ac(a);c.e("Connecting via long-poll to "+a);md(c.ma,a,function(){})}})};hd.prototype.start=function(){var a=this.ma,b=this.Ke;a.ed=this.id;a.Md=b;for(a.Mc=!0;nd(a););};
hd.isAvailable=function(){return!jd&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.$e)&&(id||!1)};k=hd.prototype;k.kc=function(){};k.Yb=function(){this.Na=!0;this.ma&&(this.ma.close(),this.ma=null);this.Ld&&(document.body.removeChild(this.Ld),this.Ld=null);this.La&&(clearTimeout(this.La),this.La=null)};
k.Sa=function(){this.Na||(this.e("Longpoll is closing itself"),this.Yb(),this.U&&(this.U(this.Ab),this.U=null))};k.close=function(){this.Na||(this.e("Longpoll is being closed."),this.Yb())};k.send=function(a){a=u(a);this.Ka+=a.length;Rc(this.fa,"bytes_sent",a.length);a=va(a);a=Wb(a,!0);a=nc(a,1840);for(var b=0;b<a.length;b++){var c=this.ma;c.Qb.push({Pe:this.Bd,We:a.length,Dd:a[b]});c.Mc&&nd(c);this.Bd++}};function ld(a,b){var c=u(b).length;a.Ja+=c;Rc(a.fa,"bytes_received",c)}
function kd(a,b,c,d){this.ac=d;this.ja=c;this.ld=new fd;this.Qb=[];this.Uc=Math.floor(1E8*Math.random());this.Xd=!0;this.qe=a;this.Fe=b}kd.prototype.close=function(){this.Mc=!1;if(this.mc){this.mc.bf.body.innerHTML="";var a=this;setTimeout(function(){null!==a.mc&&(document.body.removeChild(a.mc),a.mc=null)},Math.floor(0))}if(this.ed){var b={disconn:"t"};b.id=this.ed;b.pw=this.Md;b=this.ac(b);od(b)}if(b=this.ja)this.ja=null,b()};
function nd(a){if(a.Mc&&a.Xd&&a.ld.count()<(0<a.Qb.length?2:1)){a.Uc++;var b={};b.id=a.ed;b.pw=a.Md;b.ser=a.Uc;for(var b=a.ac(b),c="",d=0;0<a.Qb.length;)if(1870>=a.Qb[0].Dd.length+30+c.length){var e=a.Qb.shift(),c=c+"&seg"+d+"="+e.Pe+"&ts"+d+"="+e.We+"&d"+d+"="+e.Dd;d++}else break;pd(a,b+c,a.Uc);return!0}return!1}function pd(a,b,c){function d(){a.ld.remove(c);nd(a)}a.ld.add(c);var e=setTimeout(d,Math.floor(25E3));md(a,b,function(){clearTimeout(e);d()})}function md(a,b,c){qd(a,b,c)}var rd=null;
function od(a,b){rd||(rd=require("request"));rd(a,function(c,d,e){if(c)throw"Rest request for "+a.url+" failed.";b&&b(e)})}function qd(a,b,c){od({url:b,ef:!0},function(b){sd(a,b);c()})}function sd(a,b){eval("var jsonpCB = function(pLPCommand, pRTLPCB) {"+b+"}");jsonpCB(a.qe,a.Fe)};function td(a){ud(this,a)}var vd=[hd,Zc];function ud(a,b){var c=Zc&&Zc.isAvailable(),d=c&&!(wb.Kd||!0===wb.get("previous_websocket_failure"));b.Ze&&(c||M("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),d=!0);if(d)a.Zb=[Zc];else{var e=a.Zb=[];oc(vd,function(a,b){b&&b.isAvailable()&&e.push(b)})}}function wd(a){if(0<a.Zb.length)return a.Zb[0];throw Error("No transports available");};function xd(a,b,c,d,e,f){this.id=a;this.e=ec("c:"+this.id+":");this.lb=c;this.Kb=d;this.U=e;this.jd=f;this.D=b;this.uc=[];this.Ad=0;this.be=new td(b);this.na=0;this.e("Connection created");yd(this)}
function yd(a){var b=wd(a.be);a.C=new b("c:"+a.id+":"+a.Ad++,a.D);a.nd=b.responsesRequiredToBeHealthy||0;var c=zd(a,a.C),d=Ad(a,a.C);a.$b=a.C;a.Xb=a.C;a.w=null;a.Oa=!1;setTimeout(function(){a.C&&a.C.open(c,d)},Math.floor(0));b=b.healthyTimeout||0;0<b&&(a.hc=setTimeout(function(){a.hc=null;a.Oa||(a.C&&102400<a.C.Ja?(a.e("Connection exceeded healthy timeout but has received "+a.C.Ja+" bytes.  Marking connection healthy."),a.Oa=!0,a.C.kc()):a.C&&10240<a.C.Ka?a.e("Connection exceeded healthy timeout but has sent "+
a.C.Ka+" bytes.  Leaving connection alive."):(a.e("Closing unhealthy connection after timeout."),a.close()))},Math.floor(b)))}function Ad(a,b){return function(c){b===a.C?(a.C=null,c||0!==a.na?1===a.na&&a.e("Realtime connection lost."):(a.e("Realtime connection failed."),"s-"===a.D.ha.substr(0,2)&&(wb.remove("host:"+a.D.host),a.D.ha=a.D.host)),a.close()):b===a.w?(a.e("Secondary connection lost."),c=a.w,a.w=null,a.$b!==c&&a.Xb!==c||a.close()):a.e("closing an old connection")}}
function zd(a,b){return function(c){if(2!=a.na)if(b===a.Xb){var d=mc("t",c);c=mc("d",c);if("c"==d){if(d=mc("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.Dc=c.s;yb(a.D,f);0==a.na&&(a.C.start(),Dd(a,a.C,d),"5"!==e&&M("Protocol version mismatch detected"),c=a.be,(c=1<c.Zb.length?c.Zb[1]:null)&&Ed(a,c))}else if("n"===d){a.e("recvd end transmission on primary");a.Xb=a.w;for(c=0;c<a.uc.length;++c)a.rc(a.uc[c]);a.uc=[];Fd(a)}else"s"===d?(a.e("Connection shutdown command received. Shutting down..."),
a.jd&&(a.jd(c),a.jd=null),a.U=null,a.close()):"r"===d?(a.e("Reset packet received.  New host: "+c),yb(a.D,c),1===a.na?a.close():(Gd(a),yd(a))):"e"===d?fc("Server Error: "+c):"o"===d?(a.e("got pong on primary."),Hd(a),Id(a)):fc("Unknown control packet command: "+d)}else"d"==d&&a.rc(c)}else if(b===a.w)if(d=mc("t",c),c=mc("d",c),"c"==d)"t"in c&&(c=c.t,"a"===c?Jd(a):"r"===c?(a.e("Got a reset on secondary, closing it"),a.w.close(),a.$b!==a.w&&a.Xb!==a.w||a.close()):"o"===c&&(a.e("got pong on secondary."),
a.Wd--,Jd(a)));else if("d"==d)a.uc.push(c);else throw Error("Unknown protocol layer: "+d);else a.e("message on old connection")}}xd.prototype.Yd=function(a){Kd(this,{t:"d",d:a})};function Fd(a){a.$b===a.w&&a.Xb===a.w&&(a.e("cleaning up and promoting a connection: "+a.w.Sc),a.C=a.w,a.w=null)}
function Jd(a){0>=a.Wd?(a.e("Secondary connection is healthy."),a.Oa=!0,a.w.kc(),a.w.start(),a.e("sending client ack on secondary"),a.w.send({t:"c",d:{t:"a",d:{}}}),a.e("Ending transmission on primary"),a.C.send({t:"c",d:{t:"n",d:{}}}),a.$b=a.w,Fd(a)):(a.e("sending ping on secondary."),a.w.send({t:"c",d:{t:"p",d:{}}}))}xd.prototype.rc=function(a){Hd(this);this.lb(a)};function Hd(a){a.Oa||(a.nd--,0>=a.nd&&(a.e("Primary connection is healthy."),a.Oa=!0,a.C.kc()))}
function Ed(a,b){a.w=new b("c:"+a.id+":"+a.Ad++,a.D,a.Dc);a.Wd=b.responsesRequiredToBeHealthy||0;a.w.open(zd(a,a.w),Ad(a,a.w));setTimeout(function(){a.w&&(a.e("Timed out trying to upgrade."),a.w.close())},Math.floor(6E4))}function Dd(a,b,c){a.e("Realtime connection established.");a.C=b;a.na=1;a.Kb&&(a.Kb(c),a.Kb=null);0===a.nd?(a.e("Primary connection is healthy."),a.Oa=!0):setTimeout(function(){Id(a)},Math.floor(5E3))}
function Id(a){a.Oa||1!==a.na||(a.e("sending ping on primary."),Kd(a,{t:"c",d:{t:"p",d:{}}}))}function Kd(a,b){if(1!==a.na)throw"Connection is not connected";a.$b.send(b)}xd.prototype.close=function(){2!==this.na&&(this.e("Closing realtime connection."),this.na=2,Gd(this),this.U&&(this.U(),this.U=null))};function Gd(a){a.e("Shutting down all connections");a.C&&(a.C.close(),a.C=null);a.w&&(a.w.close(),a.w=null);a.hc&&(clearTimeout(a.hc),a.hc=null)};function Ld(a){var b={},c={},d={},e="";try{var f=a.split("."),b=ua(Yb(f[0])||""),c=ua(Yb(f[1])||""),e=f[2],d=c.d||{};delete c.d}catch(g){}return{ff:b,Qc:c,data:d,Ue:e}}function Md(a){a=Ld(a).Qc;return"object"===typeof a&&a.hasOwnProperty("iat")?B(a,"iat"):null}function Nd(a){a=Ld(a);var b=a.Qc;return!!a.Ue&&!!b&&"object"===typeof b&&b.hasOwnProperty("iat")};function Od(a,b,c,d,e){this.id=Pd++;this.e=ec("p:"+this.id+":");this.Wa=!0;this.ia={};this.V=[];this.Mb=0;this.Jb=[];this.T=!1;this.ua=1E3;this.lc=3E5;this.sc=b||ba;this.qc=c||ba;this.kd=d||ba;this.$c=e||ba;this.D=a;this.rd=null;this.Ub={};this.Oe=0;this.Fb=this.dd=null;Qd(this,0);Ic.gb().Qa("visible",this.Ie,this);-1===a.host.indexOf("fblocal")&&Jc.gb().Qa("online",this.Ge,this)}var Pd=0,Rd=0;k=Od.prototype;
k.Fa=function(a,b,c){var d=++this.Oe;a={r:d,a:a,b:b};this.e(u(a));v(this.T,"sendRequest_ call when we're not connected not allowed.");this.la.Yd(a);c&&(this.Ub[d]=c)};function Sd(a,b,c){var d=b.toString(),e=b.path().toString();a.ia[e]=a.ia[e]||{};v(!a.ia[e][d],"listen() called twice for same path/queryId.");a.ia[e][d]={nb:b.nb(),G:c};a.T&&Td(a,e,d,b.nb(),c)}
function Td(a,b,c,d,e){a.e("Listen on "+b+" for "+c);var f={p:b};d=Gb(d,function(a){return Ra(a)});"{}"!==c&&(f.q=d);f.h=a.$c(b);a.Fa("l",f,function(d){a.e("listen response",d);d=d.s;"ok"!==d&&Ud(a,b,c);e&&e(d)})}k.I=function(a,b,c){this.$a={re:a,Fd:!1,ba:b,cc:c};this.e("Authenticating using credential: "+a);Vd(this);(b=40==a.length)||(a=Ld(a).Qc,b="object"===typeof a&&!0===B(a,"admin"));b&&(this.e("Admin auth credential detected.  Reducing max reconnect time."),this.lc=3E4)};
k.yd=function(a){delete this.$a;this.T&&this.Fa("unauth",{},function(b){a(b.s,b.d)})};function Vd(a){var b=a.$a;a.T&&b&&a.Fa("auth",{cred:b.re},function(c){var d=c.s;c=c.d||"error";"ok"!==d&&a.$a===b&&delete a.$a;b.Fd?"ok"!==d&&b.cc&&b.cc(d,c):(b.Fd=!0,b.ba&&b.ba(d,c))})}function Wd(a,b,c,d){b=b.toString();Ud(a,b,c)&&a.T&&Xd(a,b,c,d)}function Xd(a,b,c,d){a.e("Unlisten on "+b+" for "+c);b={p:b};d=Gb(d,function(a){return Ra(a)});"{}"!==c&&(b.q=d);a.Fa("u",b)}
function Yd(a,b,c,d){a.T?Zd(a,"o",b,c,d):a.Jb.push({Ob:b,action:"o",data:c,G:d})}function $d(a,b,c,d){a.T?Zd(a,"om",b,c,d):a.Jb.push({Ob:b,action:"om",data:c,G:d})}k.hd=function(a,b){this.T?Zd(this,"oc",a,null,b):this.Jb.push({Ob:a,action:"oc",data:null,G:b})};function Zd(a,b,c,d,e){c={p:c,d:d};a.e("onDisconnect "+b,c);a.Fa(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d)},Math.floor(0))})}k.put=function(a,b,c,d){ae(this,"p",a,b,c,d)};function be(a,b,c,d){ae(a,"m",b,c,d,void 0)}
function ae(a,b,c,d,e,f){c={p:c,d:d};m(f)&&(c.h=f);a.V.push({action:b,Td:c,G:e});a.Mb++;b=a.V.length-1;a.T&&ce(a,b)}function ce(a,b){var c=a.V[b].action,d=a.V[b].Td,e=a.V[b].G;a.V[b].Le=a.T;a.Fa(c,d,function(d){a.e(c+" response",d);delete a.V[b];a.Mb--;0===a.Mb&&(a.V=[]);e&&e(d.s,d.d)})}
k.rc=function(a){if("r"in a){this.e("from server: "+u(a));var b=a.r,c=this.Ub[b];c&&(delete this.Ub[b],c(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&(b=a.a,c=a.b,this.e("handleServerMessage",b,c),"d"===b?this.sc(c.p,c.d,!1):"m"===b?this.sc(c.p,c.d,!0):"c"===b?de(this,c.p,c.q):"ac"===b?(a=c.s,b=c.d,c=this.$a,delete this.$a,c&&c.cc&&c.cc(a,b)):"sd"===b?this.rd?this.rd(c):"msg"in c&&"undefined"!==typeof console&&console.log("FIREBASE: "+c.msg.replace("\n","\nFIREBASE: ")):
fc("Unrecognized action received from server: "+u(b)+"\nAre you using the latest client?"))}};k.Kb=function(a){this.e("connection ready");this.T=!0;this.Fb=(new Date).getTime();this.kd({serverTimeOffset:a-(new Date).getTime()});Vd(this);for(var b in this.ia)for(var c in this.ia[b])a=this.ia[b][c],Td(this,b,c,a.nb,a.G);for(b=0;b<this.V.length;b++)this.V[b]&&ce(this,b);for(;this.Jb.length;)b=this.Jb.shift(),Zd(this,b.action,b.Ob,b.data,b.G);this.qc(!0)};
function Qd(a,b){v(!a.la,"Scheduling a connect when we're already connected/ing?");a.eb&&clearTimeout(a.eb);a.eb=setTimeout(function(){a.eb=null;ee(a)},Math.floor(b))}k.Ie=function(a){a&&!this.ub&&this.ua===this.lc&&(this.e("Window became visible.  Reducing delay."),this.ua=1E3,this.la||Qd(this,0));this.ub=a};
k.Ge=function(a){a?(this.e("Browser went online.  Reconnecting."),this.ua=1E3,this.Wa=!0,this.la||Qd(this,0)):(this.e("Browser went offline.  Killing connection; don't reconnect."),this.Wa=!1,this.la&&this.la.close())};
k.Pd=function(){this.e("data client disconnected");this.T=!1;this.la=null;for(var a=0;a<this.V.length;a++){var b=this.V[a];b&&"h"in b.Td&&b.Le&&(b.G&&b.G("disconnect"),delete this.V[a],this.Mb--)}0===this.Mb&&(this.V=[]);if(this.Wa)this.ub?this.Fb&&(3E4<(new Date).getTime()-this.Fb&&(this.ua=1E3),this.Fb=null):(this.e("Window isn't visible.  Delaying reconnect."),this.ua=this.lc,this.dd=(new Date).getTime()),a=Math.max(0,this.ua-((new Date).getTime()-this.dd)),a*=Math.random(),this.e("Trying to reconnect in "+
a+"ms"),Qd(this,a),this.ua=Math.min(this.lc,1.3*this.ua);else for(var c in this.Ub)delete this.Ub[c];this.qc(!1)};function ee(a){if(a.Wa){a.e("Making a connection attempt");a.dd=(new Date).getTime();a.Fb=null;var b=r(a.rc,a),c=r(a.Kb,a),d=r(a.Pd,a),e=a.id+":"+Rd++;a.la=new xd(e,a.D,b,c,d,function(b){M(b+" ("+a.D.toString()+")");a.Wa=!1})}}k.Ma=function(){this.Wa=!1;this.la?this.la.close():(this.eb&&(clearTimeout(this.eb),this.eb=null),this.T&&this.Pd())};
k.qb=function(){this.Wa=!0;this.ua=1E3;this.T||Qd(this,0)};function de(a,b,c){c=c?Gb(c,function(a){return Sa(a)}).join("$"):"{}";(a=Ud(a,b,c))&&a.G&&a.G("permission_denied")}function Ud(a,b,c){b=(new H(b)).toString();c||(c="{}");var d=a.ia[b][c];delete a.ia[b][c];return d};function fe(){this.o=this.H=null}fe.prototype.ob=function(a,b){if(a.f())this.H=b,this.o=null;else if(null!==this.H)this.H=this.H.Aa(a,b);else{null==this.o&&(this.o=new fd);var c=D(a);this.o.contains(c)||this.o.add(c,new fe);c=this.o.get(c);a=Ta(a);c.ob(a,b)}};
function ge(a,b){if(b.f())return a.H=null,a.o=null,!0;if(null!==a.H){if(a.H.Q())return!1;var c=a.H;a.H=null;c.B(function(b,c){a.ob(new H(b),c)});return ge(a,b)}return null!==a.o?(c=D(b),b=Ta(b),a.o.contains(c)&&ge(a.o.get(c),b)&&a.o.remove(c),a.o.f()?(a.o=null,!0):!1):!0}function he(a,b,c){null!==a.H?c(b,a.H):a.B(function(a,e){var f=new H(b.toString()+"/"+a);he(e,f,c)})}fe.prototype.B=function(a){null!==this.o&&gd(this.o,function(b,c){a(b,c)})};function ie(){this.aa=P}function T(a,b){return a.aa.N(b)}function U(a,b,c){a.aa=a.aa.Aa(b,c)}ie.prototype.toString=function(){return this.aa.toString()};function je(){this.va=new ie;this.O=new ie;this.pa=new ie;this.Pb=new Xa}function ke(a,b,c){U(a.va,b,c);return le(a,b)}function le(a,b){for(var c=T(a.va,b),d=T(a.O,b),e=I(a.Pb,b),f=!1,g=e;null!==g;){if(null!==g.k()){f=!0;break}g=g.parent()}if(f)return!1;c=me(c,d,e);return c!==d?(U(a.O,b,c),!0):!1}function me(a,b,c){if(c.f())return a;if(null!==c.k())return b;a=a||P;c.B(function(d){d=d.name();var e=a.P(d),f=b.P(d),g=I(c,d),e=me(e,f,g);a=a.K(d,e)});return a}
je.prototype.set=function(a,b){var c=this,d=[];Eb(b,function(a){var b=a.path;a=a.ta;var g=Xb();Ya(I(c.Pb,b),g);U(c.O,b,a);d.push({path:b,Re:g})});return d};function ne(a,b){Eb(b,function(b){var d=b.Re;b=I(a.Pb,b.path);var e=b.k();v(null!==e,"pendingPut should not be null.");e===d&&Ya(b,null)})};function oe(a,b){return a&&"object"===typeof a?(v(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function pe(a,b){var c=new fe;he(a,new H(""),function(a,e){c.ob(a,qe(e,b))});return c}function qe(a,b){var c=oe(a.m(),b),d;if(a.Q()){var e=oe(a.k(),b);return e!==a.k()||c!==a.m()?new vc(e,c):a}d=a;c!==a.m()&&(d=d.Ha(c));a.B(function(a,c){var e=qe(c,b);e!==c&&(d=d.K(a,e))});return d};var re="auth.firebase.com";function se(a,b,c){this.ec=a||{};this.Ic=b||{};this.rb=c||{};this.ec.remember||(this.ec.remember="default")}var te=["remember","redirectTo"];function ue(a){var b={},c={};za(a||{},function(a,e){0<=Db(te,a)?b[a]=e:c[a]=e});return new se(b,{},c)};var ve={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};function V(a){var b=Error(B(ve,a),a);b.code=a;return b};function we(){var a=window.opener.frames,b;for(b=a.length-1;0<=b;b--)try{if(a[b].location.protocol===window.location.protocol&&a[b].location.host===window.location.host&&"__winchan_relay_frame"===a[b].name)return a[b]}catch(c){}return null}function xe(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,!1)}function ye(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener&&a.removeEventListener(b,c,!1)}
function ze(a){/^https?:\/\//.test(a)||(a=window.location.href);var b=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(a);return b?b[1]:a}function Ae(a){var b="";try{a=a.replace("#","");var c={},d=a.replace(/^\?/,"").split("&");for(a=0;a<d.length;a++)if(d[a]){var e=d[a].split("=");c[e[0]]=e[1]}c&&A(c,"__firebase_request_key")&&(b=B(c,"__firebase_request_key"))}catch(f){}return b}
function Be(a){var b=[],c;for(c in a)if(A(a,c)){var d=B(a,c);if(ea(d))for(var e=0;e<d.length;e++)b.push(encodeURIComponent(c)+"="+encodeURIComponent(d[e]));else b.push(encodeURIComponent(c)+"="+encodeURIComponent(B(a,c)))}return b.join("&")}function Ce(){var a=hc(re);return a.scheme+"://"+a.host+"/v2"};function De(){var a=navigator.userAgent;if("Microsoft Internet Explorer"===navigator.appName){if((a=a.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1])}else if(-1<a.indexOf("Trident")&&(a=a.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1]);return!1};function Ee(a){a=a||{};a.method||(a.method="GET");a.headers||(a.headers={});a.headers.content_type||(a.headers.content_type="application/json");a.headers.content_type=a.headers.content_type.toLowerCase();this.options=a}
Ee.prototype.open=function(a,b,c){function d(){c&&(c(V("REQUEST_INTERRUPTED")),c=null)}var e=new XMLHttpRequest,f=this.options.method.toUpperCase(),g;xe(window,"beforeunload",d);e.onreadystatechange=function(){if(c&&4===e.readyState){var a;if(200<=e.status&&300>e.status){try{a=ua(e.responseText)}catch(b){}c(null,a)}else 500<=e.status&&600>e.status?c(V("SERVER_ERROR")):c(V("NETWORK_ERROR"));c=null;ye(window,"beforeunload",d)}};if("GET"===f)a+=(/\?/.test(a)?"":"?")+Be(b),g=null;else{var h=this.options.headers.content_type;
"application/json"===h&&(g=u(b));"application/x-www-form-urlencoded"===h&&(g=Be(b))}e.open(f,a,!0);a={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"};Pc(a,this.options.headers);for(var l in a)e.setRequestHeader(l,a[l]);e.send(g)};Ee.isAvailable=function(){return!1};Ee.prototype.xb=function(){return"json"};function Fe(a){a=a||{};this.Vb=Cb()+Cb()+Cb();this.Qd=a||{}}
Fe.prototype.open=function(a,b,c){function d(){c&&(c(V("USER_CANCELLED")),c=null)}var e=this,f=hc(re),g;b.requestId=this.Vb;b.redirectTo=f.scheme+"://"+f.host+"/blank/page.html";a+=/\?/.test(a)?"":"?";a+=Be(b);(g=window.open(a,"_blank","location=no"))&&ha(g.addEventListener)?(g.addEventListener("loadstart",function(a){var b;if(b=a&&a.url)a:{var f=a.url;try{var p=document.createElement("a");p.href=f;b=p.host===hc(re).host&&"/blank/page.html"===p.pathname;break a}catch(s){}b=!1}b&&(a=Ae(a.url),g.removeEventListener("exit",
d),g.close(),a=new se(null,null,{requestId:e.Vb,requestKey:a}),e.Qd.requestWithCredential("/auth/session",a,c),c=null)}),g.addEventListener("exit",d)):c(V("TRANSPORT_UNAVAILABLE"))};ma("fb.login.transports.CordovaInAppBrowser.prototype.open",Fe.prototype.open);Fe.isAvailable=function(){return!1};Fe.prototype.xb=function(){return"redirect"};function Ge(a){a=a||{};if(!a.window_features||-1!==navigator.userAgent.indexOf("Fennec/")||-1!==navigator.userAgent.indexOf("Firefox/")&&-1!==navigator.userAgent.indexOf("Android"))a.window_features=void 0;a.window_name||(a.window_name="_blank");a.relay_url||(a.relay_url=Ce()+"/auth/channel");this.options=a}
Ge.prototype.open=function(a,b,c){function d(a){g&&(document.body.removeChild(g),g=void 0);p&&(p=clearInterval(p));ye(window,"message",e);ye(window,"unload",d);if(n&&!a)try{n.close()}catch(b){h.postMessage("die",l)}n=h=void 0}function e(a){if(a.origin===l)try{var b=ua(a.data);"ready"===b.a?h.postMessage(s,l):"error"===b.a?(d(!1),c&&(c(b.d),c=null)):"response"===b.a&&(d(b.df),c&&(c(null,b.d),c=null))}catch(e){}}var f=De(),g,h,l=ze(a);if(l!==ze(this.options.relay_url))c&&setTimeout(function(){c(Error("invalid arguments: origin of url and relay_url must match"))},
0);else{f&&(g=document.createElement("iframe"),g.setAttribute("src",this.options.relay_url),g.style.display="none",g.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(g),h=g.contentWindow);a+=(/\?/.test(a)?"":"?")+Be(b);var n=window.open(a,this.options.window_name,this.options.window_features);h||(h=n);var p=setInterval(function(){n&&n.closed&&(d(!1),c&&(c(V("USER_CANCELLED")),c=null))},500),s=u({a:"request",d:b});xe(window,"unload",d);xe(window,"message",e)}};
ma("fb.login.transports.Popup.prototype.open",Ge.prototype.open);Ge.isAvailable=function(){return!1};Ge.prototype.xb=function(){return"popup"};function He(a){a=a||{};a.callback_parameter||(a.callback_parameter="callback");this.options=a;window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}
He.prototype.open=function(a,b,c){function d(){c&&(c(V("REQUEST_INTERRUPTED")),c=null)}function e(){setTimeout(function(){delete window.__firebase_auth_jsonp[f];Lc(window.__firebase_auth_jsonp)&&delete window.__firebase_auth_jsonp;try{var a=document.getElementById(f);a&&a.parentNode.removeChild(a)}catch(b){}},1);ye(window,"beforeunload",d)}var f="fn"+(new Date).getTime()+Math.floor(99999*Math.random());b[this.options.callback_parameter]="__firebase_auth_jsonp."+f;a+=(/\?/.test(a)?"":"?")+Be(b);xe(window,
"beforeunload",d);window.__firebase_auth_jsonp[f]=function(a){c&&(c(null,a),c=null);e()};Ie(f,a,c)};function Ie(a,b,c){setTimeout(function(){try{var d=document.createElement("script");d.type="text/javascript";d.id=a;d.async=!0;d.src=b;d.onerror=function(){var b=document.getElementById(a);null!==b&&b.parentNode.removeChild(b);c&&c(V("NETWORK_ERROR"))};var e=document.getElementsByTagName("head");(e&&0!=e.length?e[0]:document.documentElement).appendChild(d)}catch(f){c&&c(V("NETWORK_ERROR"))}},0)}
He.isAvailable=function(){return!1};He.prototype.xb=function(){return"json"};function Je(a,b){this.md=["session",a.wc,a.Pa].join(":");this.Fc=b}Je.prototype.set=function(a,b){if(!b)if(this.Fc.length)b=this.Fc[0];else throw Error("fb.login.SessionManager : No storage options available!");b.set(this.md,a)};Je.prototype.get=function(){var a=Gb(this.Fc,r(this.we,this)),a=Fb(a,function(a){return null!==a});Kb(a,function(a,c){return Md(c.token)-Md(a.token)});return 0<a.length?a.shift():null};Je.prototype.we=function(a){try{var b=a.get(this.md);if(b&&b.token)return b}catch(c){}return null};
Je.prototype.clear=function(){var a=this;Eb(this.Fc,function(b){b.remove(a.md)})};function Ke(a){a=a||{};this.Vb=Cb()+Cb()+Cb();this.Qd=a||{}}Ke.prototype.open=function(a,b){J.set("redirect_request_id",this.Vb);b.requestId=this.Vb;b.redirectTo=b.redirectTo||window.location.href;a+=(/\?/.test(a)?"":"?")+Be(b);window.location=a};ma("fb.login.transports.Redirect.prototype.open",Ke.prototype.open);Ke.isAvailable=function(){return!1};Ke.prototype.xb=function(){return"redirect"};function Le(a,b,c,d){Gc.call(this,["auth_status"]);this.D=a;this.zd=b;this.Xe=c;this.fd=d;this.sb=new Je(a,[wb,J]);this.Ia=null;Me(this)}na(Le,Gc);k=Le.prototype;k.Yc=function(){return this.Ia||null};function Me(a){J.get("redirect_request_id")&&Ne(a);var b=a.sb.get();b&&b.token?(Oe(a,b),a.zd(b.token,function(c,d){Pe(a,c,d,!1,b.token,b)},function(b,d){Qe(a,"resumeSession()",b,d)})):Oe(a,null)}
function Re(a,b,c,d,e,f){"firebaseio-demo.com"===a.D.domain&&M("FirebaseRef.auth() not supported on demo Firebases (*.firebaseio-demo.com). Please use on production Firebases only (*.firebaseio.com).");a.zd(b,function(f,h){Pe(a,f,h,!0,b,c,d||{},e)},function(b,c){Qe(a,"auth()",b,c,f)})}function Se(a,b){a.sb.clear();Oe(a,null);a.Xe(function(a,d){if("ok"===a)O(b);else{var e=(a||"error").toUpperCase(),f=e;d&&(f+=": "+d);f=Error(f);f.code=e;O(b,f)}})}
function Pe(a,b,c,d,e,f,g,h){"ok"===b?(d&&(b=c.auth,f.auth=b,f.expires=c.expires,f.token=Nd(e)?e:"",c=null,b&&A(b,"uid")?c=B(b,"uid"):A(f,"uid")&&(c=B(f,"uid")),f.uid=c,c="custom",b&&A(b,"provider")?c=B(b,"provider"):A(f,"provider")&&(c=B(f,"provider")),f.provider=c,a.sb.clear(),Nd(e)&&(g=g||{},c=wb,"sessionOnly"===g.remember&&(c=J),"none"!==g.remember&&a.sb.set(f,c)),Oe(a,f)),O(h,null,f)):(a.sb.clear(),Oe(a,null),f=a=(b||"error").toUpperCase(),c&&(f+=": "+c),f=Error(f),f.code=a,O(h,f))}
function Qe(a,b,c,d,e){M(b+" was canceled: "+d);a.sb.clear();Oe(a,null);a=Error(d);a.code=c.toUpperCase();O(e,a)}function Te(a,b,c,d){Ue(a);var e=[Ee,He];c=ue(c);Ve(a,e,"/auth/"+b,c,d)}
function We(a,b,c,d){Ue(a);var e=[Ge,Fe];c=ue(c);"anonymous"===b||"password"===b?setTimeout(function(){O(d,V("TRANSPORT_UNAVAILABLE"))},0):(c.Ic.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"===typeof screen?.5*(screen.height-625):0)+",left="+("object"===typeof screen?.5*(screen.width-625):0),c.Ic.relay_url=Ce()+"/"+a.D.Pa+"/auth/channel",c.Ic.requestWithCredential=r(a.Wb,a),Ve(a,e,"/auth/"+b,c,d))}
function Ne(a){var b=J.get("redirect_request_id");if(b){var c=J.get("redirect_client_options");J.remove("redirect_request_id");J.remove("redirect_client_options");var d=[Ee,He],b={requestId:b,requestKey:Ae(document.location.hash)},c=new se(c,{},b);try{document.location.hash=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,"")}catch(e){}Ve(a,d,"/auth/session",c)}}k.Tc=function(a,b){Ue(this);var c=ue(a);c.rb._method="POST";this.Wb("/users",c,function(a){O(b,a)})};
k.pd=function(a,b){var c=this;Ue(this);var d="/users/"+encodeURIComponent(a.email),e=ue(a);e.rb._method="DELETE";this.Wb(d,e,function(a,d){!a&&d&&d.uid&&c.Ia&&c.Ia.uid&&c.Ia.uid===d.uid&&Se(c);O(b,a)})};k.Pc=function(a,b){Ue(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=ue(a);d.rb._method="PUT";d.rb.password=a.newPassword;this.Wb(c,d,function(a){O(b,a)})};
k.qd=function(a,b){Ue(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=ue(a);d.rb._method="POST";this.Wb(c,d,function(a){O(b,a)})};k.Wb=function(a,b,c){Xe(this,[Ee,He],a,b,c)};function Ve(a,b,c,d,e){Xe(a,b,c,d,function(b,c){!b&&c&&c.token&&c.uid?Re(a,c.token,c,d.ec,function(a,b){a?O(e,a):O(e,null,b)}):O(e,b||V("UNKNOWN_ERROR"))})}
function Xe(a,b,c,d,e){b=Fb(b,function(a){return"function"===typeof a.isAvailable&&a.isAvailable()});0===b.length?setTimeout(function(){O(e,V("TRANSPORT_UNAVAILABLE"))},0):(b=new (b.shift())(d.Ic),d=Aa(d.rb),d.v="js-1.1.1",d.transport=b.xb(),d.suppress_status_codes=!0,a=Ce()+"/"+a.D.Pa+c,b.open(a,d,function(a,b){if(a)O(e,a);else if(b&&b.error){var c=Error(b.error.message);c.code=b.error.code;c.details=b.error.details;O(e,c)}else O(e,null,b)}))}
function Oe(a,b){var c=null!==a.Ia||null!==b;a.Ia=b;c&&a.Jc("auth_status",b);a.fd(null!==b)}k.Zc=function(a){v("auth_status"===a,'initial event must be of type "auth_status"');return[this.Ia]};function Ue(a){var b=a.D;if("firebaseio.com"!==b.domain&&"firebaseio-demo.com"!==b.domain&&"auth.firebase.com"===re)throw Error("This custom Firebase server ('"+a.D.domain+"') does not support delegated login.");};function Ye(){this.fb=[]}function Ze(a,b){if(0!==b.length)for(var c=0;c<b.length;c++)a.fb.push(b[c])}Ye.prototype.Sb=function(){for(var a=0;a<this.fb.length;a++)if(this.fb[a]){var b=this.fb[a];this.fb[a]=null;$e(b)}this.fb=[]};function $e(a){var b=a.ba,c=a.Zd,d=a.Rb;uc(function(){b(c,d)})};function W(a,b,c,d){this.type=a;this.wa=b;this.ca=c;this.Rb=d};function af(a){this.S=a;this.ra=[];this.Vc=new Ye}function bf(a,b,c,d,e){a.ra.push({type:b,ba:c,cancel:d,$:e});d=[];var f=cf(a.j);a.Db&&f.push(new W("value",a.j));for(var g=0;g<f.length;g++)if(f[g].type===b){var h=new G(a.S.i,a.S.path);f[g].ca&&(h=h.J(f[g].ca));d.push({ba:qc(c,e),Zd:new S(f[g].wa,h),Rb:f[g].Rb})}Ze(a.Vc,d)}af.prototype.yc=function(a,b){b=this.zc(a,b);null!=b&&df(this,b)};
function df(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=e.type,g=new G(a.S.i,a.S.path);b[d].ca&&(g=g.J(b[d].ca));g=new S(b[d].wa,g);"value"!==e.type||g.Cb()?"value"!==e.type&&(f+=" "+g.name()):f+="("+g.X()+")";Zb(a.S.i.n.id+": event:"+a.S.path+":"+a.S.Ta()+":"+f);for(f=0;f<a.ra.length;f++){var h=a.ra[f];b[d].type===h.type&&c.push({ba:qc(h.ba,h.$),Zd:g,Rb:e.Rb})}}Ze(a.Vc,c)}af.prototype.Sb=function(){this.Vc.Sb()};
function cf(a){var b=[];if(!a.Q()){var c=null;a.B(function(a,e){b.push(new W("child_added",e,a,c));c=a})}return b}function ef(a){a.Db||(a.Db=!0,df(a,[new W("value",a.j)]))};function ff(a,b){af.call(this,a);this.j=b}na(ff,af);ff.prototype.zc=function(a,b){this.j=a;this.Db&&null!=b&&b.push(new W("value",this.j));return b};ff.prototype.Bb=function(){return{}};function gf(a,b){this.gc=a;this.gd=b}function hf(a,b,c,d,e){var f=a.N(c),g=b.N(c);d=new gf(d,e);e=jf(d,c,f,g);g=!f.f()&&!g.f()&&f.m()!==g.m();if(e||g)for(f=c,c=e;null!==f.parent();){var h=a.N(f);e=b.N(f);var l=f.parent();if(!d.gc||I(d.gc,l).k()){var n=b.N(l),p=[],f=Ua(f);h.f()?(h=n.ga(f,e),p.push(new W("child_added",e,f,h))):e.f()?p.push(new W("child_removed",h,f)):(h=n.ga(f,e),g&&p.push(new W("child_moved",e,f,h)),c&&p.push(new W("child_changed",e,f,h)));d.gd(l,n,p)}g&&(g=!1,c=!0);f=l}}
function jf(a,b,c,d){var e,f=[];c===d?e=!1:c.Q()&&d.Q()?e=c.k()!==d.k():c.Q()?(kf(a,b,P,d,f),e=!0):d.Q()?(kf(a,b,c,P,f),e=!0):e=kf(a,b,c,d,f);e?a.gd(b,d,f):c.m()!==d.m()&&a.gd(b,d,null);return e}
function kf(a,b,c,d,e){var f=!1,g=!a.gc||!I(a.gc,b).f(),h=[],l=[],n=[],p=[],s={},t={},w,$,K,N;w=c.hb();K=hb(w);$=d.hb();for(N=hb($);null!==K||null!==N;){c=N;c=null===K?1:null===c?-1:K.key===c.key?0:xc({name:K.key,ka:K.value.m()},{name:c.key,ka:c.value.m()});if(0>c)f=B(s,K.key),m(f)?(n.push({Xc:K,wd:h[f]}),h[f]=null):(t[K.key]=l.length,l.push(K)),f=!0,K=hb(w);else{if(0<c)f=B(t,N.key),m(f)?(n.push({Xc:l[f],wd:N}),l[f]=null):(s[N.key]=h.length,h.push(N)),f=!0;else{c=b.J(N.key);if(c=jf(a,c,K.value,N.value))p.push(N),
f=!0;K.value.m()!==N.value.m()&&(n.push({Xc:K,wd:N}),f=!0);K=hb(w)}N=hb($)}if(!g&&f)return!0}for(g=0;g<l.length;g++)if(s=l[g])c=b.J(s.key),jf(a,c,s.value,P),e.push(new W("child_removed",s.value,s.key));for(g=0;g<h.length;g++)if(s=h[g])c=b.J(s.key),l=d.ga(s.key,s.value),jf(a,c,P,s.value),e.push(new W("child_added",s.value,s.key,l));for(g=0;g<n.length;g++)s=n[g].Xc,h=n[g].wd,c=b.J(h.key),l=d.ga(h.key,h.value),e.push(new W("child_moved",h.value,h.key,l)),(c=jf(a,c,s.value,h.value))&&p.push(h);for(g=
0;g<p.length;g++)a=p[g],l=d.ga(a.key,a.value),e.push(new W("child_changed",a.value,a.key,l));return f};function lf(){this.Z=this.za=null;this.set={}}na(lf,fd);k=lf.prototype;k.setActive=function(a){this.za=a};function mf(a,b,c){a.add(b,c);a.Z||(a.Z=c.S.path)}function nf(a){var b=a.za;a.za=null;return b}function of(a){return a.contains("default")}function pf(a){return null!=a.za&&of(a)}k.defaultView=function(){return of(this)?this.get("default"):null};k.path=function(){return this.Z};k.toString=function(){return Gb(this.keys(),function(a){return"default"===a?"{}":a}).join("$")};
k.nb=function(){var a=[];gd(this,function(b,c){a.push(c.S)});return a};function qf(a,b){af.call(this,a);this.j=P;this.zc(b,cf(b))}na(qf,af);
qf.prototype.zc=function(a,b){if(null===b)return b;var c=[],d=this.S;m(d.ea)&&(m(d.ya)&&null!=d.ya?c.push(function(a,b){var c=jc(b,d.ea);return 0<c||0===c&&0<=kc(a,d.ya)}):c.push(function(a,b){return 0<=jc(b,d.ea)}));m(d.Ba)&&(m(d.bb)?c.push(function(a,b){var c=jc(b,d.Ba);return 0>c||0===c&&0>=kc(a,d.bb)}):c.push(function(a,b){return 0>=jc(b,d.Ba)}));var e=null,f=null;if(m(this.S.Da))if(m(this.S.ea)){if(e=rf(a,c,this.S.Da,!1)){var g=a.P(e).m();c.push(function(a,b){var c=jc(b,g);return 0>c||0===c&&
0>=kc(a,e)})}}else if(f=rf(a,c,this.S.Da,!0)){var h=a.P(f).m();c.push(function(a,b){var c=jc(b,h);return 0<c||0===c&&0<=kc(a,f)})}for(var l=[],n=[],p=[],s=[],t=0;t<b.length;t++){var w=b[t].ca,$=b[t].wa;switch(b[t].type){case "child_added":sf(c,w,$)&&(this.j=this.j.K(w,$),n.push(b[t]));break;case "child_removed":this.j.P(w).f()||(this.j=this.j.K(w,null),l.push(b[t]));break;case "child_changed":!this.j.P(w).f()&&sf(c,w,$)&&(this.j=this.j.K(w,$),s.push(b[t]));break;case "child_moved":var K=!this.j.P(w).f(),
N=sf(c,w,$);K?N?(this.j=this.j.K(w,$),p.push(b[t])):(l.push(new W("child_removed",this.j.P(w),w)),this.j=this.j.K(w,null)):N&&(this.j=this.j.K(w,$),n.push(b[t]))}}var Bd=e||f;if(Bd){var Cd=(t=null!==f)?this.j.Gd():this.j.Hd(),Oc=!1,ub=!1,vb=this;(t?a.Wc:a.B).call(a,function(a,b){ub||null!==Cd||(ub=!0);if(ub&&Oc)return!0;Oc?(l.push(new W("child_removed",vb.j.P(a),a)),vb.j=vb.j.K(a,null)):ub&&(n.push(new W("child_added",b,a)),vb.j=vb.j.K(a,b));Cd===a&&(ub=!0);a===Bd&&(Oc=!0)})}for(t=0;t<n.length;t++)c=
n[t],w=this.j.ga(c.ca,c.wa),l.push(new W("child_added",c.wa,c.ca,w));for(t=0;t<p.length;t++)c=p[t],w=this.j.ga(c.ca,c.wa),l.push(new W("child_moved",c.wa,c.ca,w));for(t=0;t<s.length;t++)c=s[t],w=this.j.ga(c.ca,c.wa),l.push(new W("child_changed",c.wa,c.ca,w));this.Db&&0<l.length&&l.push(new W("value",this.j));return l};function rf(a,b,c,d){if(a.Q())return null;var e=null;(d?a.Wc:a.B).call(a,function(a,d){if(sf(b,a,d)&&(e=a,c--,0===c))return!0});return e}
function sf(a,b,c){for(var d=0;d<a.length;d++)if(!a[d](b,c.m()))return!1;return!0}qf.prototype.ad=function(a){return this.j.P(a)!==P};
qf.prototype.Bb=function(a,b,c){var d={};this.j.Q()||this.j.B(function(a){d[a]=3});var e=this.j;c=T(c,new H(""));var f=new Xa;Ya(I(f,this.S.path),!0);b=P.Aa(a,b);var g=this;hf(c,b,a,f,function(a,b,c){null!==c&&a.toString()===g.S.path.toString()&&g.zc(b,c)});this.j.Q()?pc(d,function(a,b){d[b]=2}):(this.j.B(function(a){A(d,a)||(d[a]=1)}),pc(d,function(a,b){g.j.P(b).f()&&(d[b]=2)}));this.j=e;return d};function tf(a,b){this.n=a;this.g=b;this.pc=b.aa;this.oa=new Xa}tf.prototype.bc=function(a,b,c,d,e){var f=a.path,g=I(this.oa,f),h=g.k();null===h?(h=new lf,Ya(g,h)):v(!h.f(),"We shouldn't be storing empty QueryMaps");var l=a.Ta();if(h.contains(l))a=h.get(l),bf(a,b,c,d,e);else{var n=this.g.aa.N(f);a=uf(a,n);vf(this,g,h,l,a);bf(a,b,c,d,e);(b=(b=ab(I(this.oa,f),function(a){var b;if(b=a.k()&&a.k().defaultView())b=a.k().defaultView().Db;if(b)return!0},!0))||null===this.n&&!T(this.g,f).f())&&ef(a)}a.Sb()};
function wf(a,b,c,d,e){var f=a.get(b),g;if(g=f){g=!1;for(var h=f.ra.length-1;0<=h;h--){var l=f.ra[h];if(!(c&&l.type!==c||d&&l.ba!==d||e&&l.$!==e)&&(f.ra.splice(h,1),g=!0,c&&d))break}}(c=g&&!(0<f.ra.length))&&a.remove(b);return c}function xf(a,b,c,d,e){b=b?b.Ta():null;var f=[];b&&"default"!==b?wf(a,b,c,d,e)&&f.push(b):Eb(a.keys(),function(b){wf(a,b,c,d,e)&&f.push(b)});return f}tf.prototype.Bc=function(a,b,c,d){var e=I(this.oa,a.path).k();return null===e?null:yf(this,e,a,b,c,d)};
function yf(a,b,c,d,e,f){var g=b.path(),g=I(a.oa,g);c=xf(b,c,d,e,f);b.f()&&Ya(g,null);d=zf(g);if(0<c.length&&!d){d=g;e=g.parent();for(c=!1;!c&&e;){if(f=e.k()){v(!pf(f));var h=d.name(),l=!1;gd(f,function(a,b){l=b.ad(h)||l});l&&(c=!0)}d=e;e=e.parent()}d=null;pf(b)||(b=nf(b),d=Af(a,g),b&&b());return c?null:d}return null}function Bf(a,b,c){$a(I(a.oa,b),function(a){(a=a.k())&&gd(a,function(a,b){ef(b)})},c,!0)}
function Cf(a,b,c){function d(a){do{if(g[a.toString()])return!0;a=a.parent()}while(null!==a);return!1}var e=a.pc,f=a.g.aa;a.pc=f;for(var g={},h=0;h<c.length;h++)g[c[h].toString()]=!0;hf(e,f,b,a.oa,function(c,e,f){if(b.contains(c)){var g=d(c);g&&Bf(a,c,!1);a.yc(c,e,f);g&&Bf(a,c,!0)}else a.yc(c,e,f)});d(b)&&Bf(a,b,!0);Df(a,b)}function Df(a,b){var c=I(a.oa,b);$a(c,function(a){(a=a.k())&&gd(a,function(a,b){b.Sb()})},!0,!0);ab(c,function(a){(a=a.k())&&gd(a,function(a,b){b.Sb()})},!1)}
tf.prototype.yc=function(a,b,c){a=I(this.oa,a).k();null!==a&&gd(a,function(a,e){e.yc(b,c)})};function zf(a){return ab(a,function(a){return a.k()&&pf(a.k())})}function vf(a,b,c,d,e){if(pf(c)||zf(b))mf(c,d,e);else{var f,g;c.f()||(f=c.toString(),g=c.nb());mf(c,d,e);c.setActive(Ef(a,c));f&&g&&Wd(a.n,c.path(),f,g)}pf(c)&&$a(b,function(a){if(a=a.k())a.za&&a.za(),a.za=null})}
function Af(a,b){function c(b){var f=b.k();if(f&&of(f))d.push(f.path()),null==f.za&&f.setActive(Ef(a,f));else{if(f){null!=f.za||f.setActive(Ef(a,f));var g={};gd(f,function(a,b){b.j.B(function(a){A(g,a)||(g[a]=!0,a=f.path().J(a),d.push(a))})})}b.B(c)}}var d=[];c(b);return d}
function Ef(a,b){if(a.n){var c=a.n,d=b.path(),e=b.toString(),f=b.nb(),g,h=b.keys(),l=of(b);Sd(a.n,b,function(c){"ok"!==c?(c=sc(c),M("on() or once() for "+b.path().toString()+" failed: "+c.toString()),Ff(a,b,c)):g||(l?Bf(a,b.path(),!0):Eb(h,function(a){(a=b.get(a))&&ef(a)}),Df(a,b.path()))});return function(){g=!0;Wd(c,d,e,f)}}return ba}function Ff(a,b,c){b&&(gd(b,function(a,b){for(var f=0;f<b.ra.length;f++){var g=b.ra[f];g.cancel&&qc(g.cancel,g.$)(c)}}),yf(a,b))}
function uf(a,b){return"default"===a.Ta()?new ff(a,b):new qf(a,b)}tf.prototype.Bb=function(a,b,c,d){function e(a){pc(a,function(a,b){f[b]=3===a?3:(B(f,b)||a)===a?a:3})}var f={};gd(b,function(b,f){e(f.Bb(a,c,d))});c.Q()||c.B(function(a){A(f,a)||(f[a]=4)});return f};function Gf(a,b,c,d,e){var f=b.path();b=a.Bb(f,b,d,e);var g=P,h=[];pc(b,function(b,n){var p=new H(n);3===b||1===b?g=g.K(n,d.N(p)):(2===b&&h.push({path:f.J(n),ta:P}),h=h.concat(Hf(a,d.N(p),I(c,p),e)))});return[{path:f,ta:g}].concat(h)}
function If(a,b,c,d){var e;a:{var f=I(a.oa,b);e=f.parent();for(var g=[];null!==e;){var h=e.k();if(null!==h){if(of(h)){e=[{path:b,ta:c}];break a}h=a.Bb(b,h,c,d);f=B(h,f.name());if(3===f||1===f){e=[{path:b,ta:c}];break a}2===f&&g.push({path:b,ta:P})}f=e;e=e.parent()}e=g}if(1==e.length&&(!e[0].ta.f()||c.f()))return e;g=I(a.oa,b);f=g.k();null!==f?of(f)?e.push({path:b,ta:c}):e=e.concat(Gf(a,f,g,c,d)):e=e.concat(Hf(a,c,g,d));return e}
function Hf(a,b,c,d){var e=c.k();if(null!==e)return of(e)?[{path:c.path(),ta:b}]:Gf(a,e,c,b,d);var f=[];c.B(function(c){var e=b.Q()?P:b.P(c.name());c=Hf(a,e,c,d);f=f.concat(c)});return f};function Jf(a){this.D=a;this.fa=Wc(a);this.n=new Od(this.D,r(this.sc,this),r(this.qc,this),r(this.kd,this),r(this.$c,this));this.ae=Xc(a,r(function(){return new Tc(this.fa,this.n)},this));this.Xa=new Xa;this.Ga=new ie;this.g=new je;this.L=new tf(this.n,this.g.pa);this.bd=new ie;this.cd=new tf(null,this.bd);Kf(this,"connected",!1);this.U=new fe;this.I=new Le(a,r(this.n.I,this.n),r(this.n.yd,this.n),r(this.fd,this));this.fc=0}k=Jf.prototype;
k.toString=function(){return(this.D.Va?"https://":"http://")+this.D.host};k.name=function(){return this.D.Pa};function Lf(a){a=T(a.bd,new H(".info/serverTimeOffset")).X()||0;return(new Date).getTime()+a}function Mf(a){a=a={timestamp:Lf(a)};a.timestamp=a.timestamp||(new Date).getTime();return a}
k.sc=function(a,b,c){this.fc++;this.Jd&&(b=this.Jd(a,b));var d,e,f=[];9<=a.length&&a.lastIndexOf(".priority")===a.length-9?(d=new H(a.substring(0,a.length-9)),e=T(this.g.va,d).Ha(b),f.push(d)):c?(d=new H(a),e=T(this.g.va,d),pc(b,function(a,b){var c=new H(b);".priority"===b?e=e.Ha(a):(e=e.Aa(c,R(a)),f.push(d.J(b)))})):(d=new H(a),e=R(b),f.push(d));a=If(this.L,d,e,this.g.O);b=!1;for(c=0;c<a.length;++c){var g=a[c];b=ke(this.g,g.path,g.ta)||b}b&&(d=Nf(this,d));Cf(this.L,d,f)};
k.qc=function(a){Kf(this,"connected",a);!1===a&&Of(this)};k.kd=function(a){var b=this;oc(a,function(a,d){Kf(b,d,a)})};k.$c=function(a){a=new H(a);return T(this.g.va,a).hash()};k.fd=function(a){Kf(this,"authenticated",a)};function Kf(a,b,c){b=new H("/.info/"+b);U(a.bd,b,R(c));Cf(a.cd,b,[b])}
k.tb=function(a,b,c,d){this.e("set",{path:a.toString(),value:b,ka:c});var e=Mf(this);b=R(b,c);var e=qe(b,e),e=If(this.L,a,e,this.g.O),f=this.g.set(a,e),g=this;this.n.put(a.toString(),b.X(!0),function(b,c){"ok"!==b&&M("set at "+a+" failed: "+b);ne(g.g,f);le(g.g,a);var e=Nf(g,a);Cf(g.L,e,[]);Pf(d,b,c)});e=Qf(this,a);Nf(this,e);Cf(this.L,e,[a])};
k.update=function(a,b,c){this.e("update",{path:a.toString(),value:b});var d=T(this.g.pa,a),e=!0,f=[],g=Mf(this),h=[],l;for(l in b){var e=!1,n=R(b[l]),n=qe(n,g),d=d.K(l,n),p=a.J(l);f.push(p);n=If(this.L,p,n,this.g.O);h=h.concat(this.g.set(a,n))}if(e)Zb("update() called with empty data.  Don't do anything."),Pf(c,"ok");else{var s=this;be(this.n,a.toString(),b,function(b,d){"ok"!==b&&M("update at "+a+" failed: "+b);ne(s.g,h);le(s.g,a);var e=Nf(s,a);Cf(s.L,e,[]);Pf(c,b,d)});b=Qf(this,a);Nf(this,b);Cf(s.L,
b,f)}};k.sd=function(a,b,c){this.e("setPriority",{path:a.toString(),ka:b});var d=Mf(this),d=oe(b,d),d=T(this.g.O,a).Ha(d),d=If(this.L,a,d,this.g.O),e=this.g.set(a,d),f=this;this.n.put(a.toString()+"/.priority",b,function(b,d){"permission_denied"===b&&M("setPriority at "+a+" failed: "+b);ne(f.g,e);le(f.g,a);var l=Nf(f,a);Cf(f.L,l,[]);Pf(c,b,d)});b=Nf(this,a);Cf(f.L,b,[])};
function Of(a){a.e("onDisconnectEvents");var b=[],c=Mf(a);he(pe(a.U,c),new H(""),function(c,e){var f=If(a.L,c,e,a.g.O);b.push.apply(b,a.g.set(c,f));f=Qf(a,c);Nf(a,f);Cf(a.L,f,[c])});ne(a.g,b);a.U=new fe}k.hd=function(a,b){var c=this;this.n.hd(a.toString(),function(d,e){"ok"===d&&ge(c.U,a);Pf(b,d,e)})};function Rf(a,b,c,d){var e=R(c);Yd(a.n,b.toString(),e.X(!0),function(c,g){"ok"===c&&a.U.ob(b,e);Pf(d,c,g)})}
function Sf(a,b,c,d,e){var f=R(c,d);Yd(a.n,b.toString(),f.X(!0),function(c,d){"ok"===c&&a.U.ob(b,f);Pf(e,c,d)})}function Tf(a,b,c,d){var e=!0,f;for(f in c)e=!1;e?(Zb("onDisconnect().update() called with empty data.  Don't do anything."),Pf(d,"ok")):$d(a.n,b.toString(),c,function(e,f){if("ok"===e)for(var l in c){var n=R(c[l]);a.U.ob(b.J(l),n)}Pf(d,e,f)})}function Uf(a){Rc(a.fa,"deprecated_on_disconnect");a.ae.vd.deprecated_on_disconnect=!0}
k.bc=function(a,b,c,d,e){".info"===D(a.path)?this.cd.bc(a,b,c,d,e):this.L.bc(a,b,c,d,e)};k.Bc=function(a,b,c,d){if(".info"===D(a.path))this.cd.Bc(a,b,c,d);else{b=this.L.Bc(a,b,c,d);if(c=null!==b){c=this.g;d=a.path;for(var e=[],f=0;f<b.length;++f)e[f]=T(c.va,b[f]);U(c.va,d,P);for(f=0;f<b.length;++f)U(c.va,b[f],e[f]);c=le(c,d)}c&&(v(this.g.pa.aa===this.L.pc,"We should have raised any outstanding events by now.  Else, we'll blow them away."),U(this.g.pa,a.path,T(this.g.O,a.path)),this.L.pc=this.g.pa.aa)}};
k.Ma=function(){this.n.Ma()};k.qb=function(){this.n.qb()};k.td=function(a){if("undefined"!==typeof console){a?(this.Ec||(this.Ec=new Sc(this.fa)),a=this.Ec.get()):a=this.fa.get();var b=Hb(Kc(a),function(a,b){return Math.max(b.length,a)},0),c;for(c in a){for(var d=a[c],e=c.length;e<b+2;e++)c+=" ";console.log(c+d)}}};k.ud=function(a){Rc(this.fa,a);this.ae.vd[a]=!0};k.e=function(){Zb("r:"+this.n.id+":",arguments)};
function Pf(a,b,c){a&&uc(function(){if("ok"==b)a(null,c);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c);e=Error(e);e.code=d;a(e)}})};function Vf(a,b,c,d,e){function f(){}a.e("transaction on "+b);var g=new G(a,b);g.Qa("value",f);c={path:b,update:c,G:d,status:null,Rd:Xb(),Nc:e,Vd:0,Kc:function(){g.kb("value",f)},Lc:null};a.Ga.aa=Wf(a,a.Ga.aa,a.g.O.aa,a.Xa);d=c.update(T(a.Ga,b).X());if(m(d)){Fa("transaction failed: Data returned ",d);c.status=1;e=I(a.Xa,b);var h=e.k()||[];h.push(c);Ya(e,h);h="object"===typeof d&&null!==d&&A(d,".priority")?d[".priority"]:T(a.g.O,b).m();e=Mf(a);d=R(d,h);d=qe(d,e);U(a.Ga,b,d);c.Nc&&(U(a.g.pa,b,d),Cf(a.L,
b,[b]));Xf(a)}else c.Kc(),c.G&&(a=Yf(a,b),c.G(null,!1,a))}function Xf(a,b){var c=b||a.Xa;b||Zf(a,c);if(null!==c.k()){var d=$f(a,c);v(0<d.length);Ib(d,function(a){return 1===a.status})&&ag(a,c.path(),d)}else c.Cb()&&c.B(function(b){Xf(a,b)})}
function ag(a,b,c){for(var d=0;d<c.length;d++)v(1===c[d].status,"tryToSendTransactionQueue_: items in queue should all be run."),c[d].status=2,c[d].Vd++;var e=T(a.g.O,b).hash();U(a.g.O,b,T(a.g.pa,b));for(var f=T(a.Ga,b).X(!0),g=Xb(),h=bg(c),d=0;d<h.length;d++)Ya(I(a.g.Pb,h[d]),g);a.n.put(b.toString(),f,function(e){a.e("transaction put response",{path:b.toString(),status:e});for(d=0;d<h.length;d++){var f=I(a.g.Pb,h[d]),p=f.k();v(null!==p,"sendTransactionQueue_: pendingPut should not be null.");p===
g&&(Ya(f,null),U(a.g.O,h[d],T(a.g.va,h[d])))}if("ok"===e){e=[];for(d=0;d<c.length;d++)c[d].status=3,c[d].G&&(f=Yf(a,c[d].path),e.push(r(c[d].G,null,null,!0,f))),c[d].Kc();Zf(a,I(a.Xa,b));Xf(a);for(d=0;d<e.length;d++)uc(e[d])}else{if("datastale"===e)for(d=0;d<c.length;d++)c[d].status=4===c[d].status?5:1;else for(M("transaction at "+b+" failed: "+e),d=0;d<c.length;d++)c[d].status=5,c[d].Lc=e;e=Nf(a,b);Cf(a.L,e,[b])}},e)}
function bg(a){for(var b={},c=0;c<a.length;c++)a[c].Nc&&(b[a[c].path.toString()]=a[c].path);a=[];for(var d in b)a.push(b[d]);return a}
function Nf(a,b){var c=cg(a,b),d=c.path(),c=$f(a,c);U(a.g.pa,d,T(a.g.O,d));U(a.Ga,d,T(a.g.O,d));if(0!==c.length){for(var e=T(a.g.pa,d),f=e,g=[],h=0;h<c.length;h++){var l=Va(d,c[h].path),n=!1,p;v(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null.");if(5===c[h].status)n=!0,p=c[h].Lc;else if(1===c[h].status)if(25<=c[h].Vd)n=!0,p="maxretry";else{var s=e.N(l),t=c[h].update(s.X());if(m(t)){Fa("transaction failed: Data returned ",t);var w=R(t);"object"===typeof t&&null!=t&&A(t,".priority")||
(w=w.Ha(s.m()));e=e.Aa(l,w);c[h].Nc&&(f=f.Aa(l,w))}else n=!0,p="nodata"}n&&(c[h].status=3,setTimeout(c[h].Kc,Math.floor(0)),c[h].G&&(n=new G(a,c[h].path),l=new S(e.N(l),n),"nodata"===p?g.push(r(c[h].G,null,null,!1,l)):g.push(r(c[h].G,null,Error(p),!1,l))))}U(a.Ga,d,e);U(a.g.pa,d,f);Zf(a,a.Xa);for(h=0;h<g.length;h++)uc(g[h]);Xf(a)}return d}function cg(a,b){for(var c,d=a.Xa;null!==(c=D(b))&&null===d.k();)d=I(d,c),b=Ta(b);return d}
function $f(a,b){var c=[];dg(a,b,c);c.sort(function(a,b){return a.Rd-b.Rd});return c}function dg(a,b,c){var d=b.k();if(null!==d)for(var e=0;e<d.length;e++)c.push(d[e]);b.B(function(b){dg(a,b,c)})}function Zf(a,b){var c=b.k();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;Ya(b,0<c.length?c:null)}b.B(function(b){Zf(a,b)})}function Qf(a,b){var c=cg(a,b).path(),d=I(a.Xa,b);ab(d,function(a){eg(a)});eg(d);$a(d,function(a){eg(a)});return c}
function eg(a){var b=a.k();if(null!==b){for(var c=[],d=-1,e=0;e<b.length;e++)4!==b[e].status&&(2===b[e].status?(v(d===e-1,"All SENT items should be at beginning of queue."),d=e,b[e].status=4,b[e].Lc="set"):(v(1===b[e].status),b[e].Kc(),b[e].G&&c.push(r(b[e].G,null,Error("set"),!1,null))));-1===d?Ya(a,null):b.length=d+1;for(e=0;e<c.length;e++)uc(c[e])}}function Yf(a,b){var c=new G(a,b);return new S(T(a.Ga,b),c)}
function Wf(a,b,c,d){if(d.f())return c;if(null!=d.k())return b;var e=c;d.B(function(d){var g=d.name(),h=new H(g);d=Wf(a,b.N(h),c.N(h),d);e=e.K(g,d)});return e};function X(){this.pb={}}ca(X);X.prototype.Ma=function(){for(var a in this.pb)this.pb[a].Ma()};X.prototype.interrupt=X.prototype.Ma;X.prototype.qb=function(){for(var a in this.pb)this.pb[a].qb()};X.prototype.resume=X.prototype.qb;function fg(a){var b=this;this.wb=a;this.Gc="*";De()?this.Hb=this.ic=we():(this.Hb=window.opener,this.ic=window);if(!b.Hb)throw"Unable to find relay frame";xe(this.ic,"message",r(this.lb,this));xe(this.ic,"message",r(this.Od,this));try{gg(this,{a:"ready"})}catch(c){xe(this.Hb,"load",function(){gg(b,{a:"ready"})})}xe(window,"unload",r(this.He,this))}function gg(a,b){b=u(b);De()?a.Hb.doPost(b,a.Gc):a.Hb.postMessage(b,a.Gc)}
fg.prototype.lb=function(a){var b=this,c;try{c=ua(a.data)}catch(d){}c&&"request"===c.a&&(ye(window,"message",this.lb),this.Gc=a.origin,this.wb&&setTimeout(function(){b.wb(b.Gc,c.d,function(a,c){b.ne=!c;b.wb=void 0;gg(b,{a:"response",d:a,forceKeepWindowOpen:c})})},0))};fg.prototype.He=function(){try{ye(this.ic,"message",this.Od)}catch(a){}this.wb&&(gg(this,{a:"error",d:"unknown closed window"}),this.wb=void 0);try{window.close()}catch(b){}};fg.prototype.Od=function(a){if(this.ne&&"die"===a.data)try{window.close()}catch(b){}};var Y={xe:function(a){var b=Q.prototype.hash;Q.prototype.hash=a;var c=vc.prototype.hash;vc.prototype.hash=a;return function(){Q.prototype.hash=b;vc.prototype.hash=c}}};Y.hijackHash=Y.xe;Y.Ta=function(a){return a.Ta()};Y.queryIdentifier=Y.Ta;Y.Ae=function(a){return a.i.n.ia};Y.listens=Y.Ae;Y.Me=function(a){return a.i.n.la};Y.refConnection=Y.Me;Y.de=Od;Y.DataConnection=Y.de;Od.prototype.sendRequest=Od.prototype.Fa;Od.prototype.interrupt=Od.prototype.Ma;Y.ee=xd;Y.RealTimeConnection=Y.ee;
xd.prototype.sendRequest=xd.prototype.Yd;xd.prototype.close=xd.prototype.close;Y.ce=xb;Y.ConnectionTarget=Y.ce;Y.ue=function(){id=$c=!0};Y.forceLongPolling=Y.ue;Y.ve=function(){jd=!0};Y.forceWebSockets=Y.ve;Y.Te=function(a,b){a.i.n.rd=b};Y.setSecurityDebugCallback=Y.Te;Y.td=function(a,b){a.i.td(b)};Y.stats=Y.td;Y.ud=function(a,b){a.i.ud(b)};Y.statsIncrementCounter=Y.ud;Y.fc=function(a){return a.i.fc};Y.dataUpdateCount=Y.fc;Y.ye=function(a,b){a.i.Jd=b};Y.interceptServerData=Y.ye;Y.De=function(a){new fg(a)};
Y.onPopupOpen=Y.De;Y.Qe=function(a){re=a};Y.setAuthenticationServer=Y.Qe;function Z(a,b,c){this.Tb=a;this.Z=b;this.Ea=c}Z.prototype.cancel=function(a){x("Firebase.onDisconnect().cancel",0,1,arguments.length);z("Firebase.onDisconnect().cancel",1,a,!0);this.Tb.hd(this.Z,a)};Z.prototype.cancel=Z.prototype.cancel;Z.prototype.remove=function(a){x("Firebase.onDisconnect().remove",0,1,arguments.length);C("Firebase.onDisconnect().remove",this.Z);z("Firebase.onDisconnect().remove",1,a,!0);Rf(this.Tb,this.Z,null,a)};Z.prototype.remove=Z.prototype.remove;
Z.prototype.set=function(a,b){x("Firebase.onDisconnect().set",1,2,arguments.length);C("Firebase.onDisconnect().set",this.Z);Ea("Firebase.onDisconnect().set",a,!1);z("Firebase.onDisconnect().set",2,b,!0);Rf(this.Tb,this.Z,a,b)};Z.prototype.set=Z.prototype.set;
Z.prototype.tb=function(a,b,c){x("Firebase.onDisconnect().setWithPriority",2,3,arguments.length);C("Firebase.onDisconnect().setWithPriority",this.Z);Ea("Firebase.onDisconnect().setWithPriority",a,!1);Ja("Firebase.onDisconnect().setWithPriority",2,b,!1);z("Firebase.onDisconnect().setWithPriority",3,c,!0);if(".length"===this.Ea||".keys"===this.Ea)throw"Firebase.onDisconnect().setWithPriority failed: "+this.Ea+" is a read-only object.";Sf(this.Tb,this.Z,a,b,c)};Z.prototype.setWithPriority=Z.prototype.tb;
Z.prototype.update=function(a,b){x("Firebase.onDisconnect().update",1,2,arguments.length);C("Firebase.onDisconnect().update",this.Z);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;M("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ia("Firebase.onDisconnect().update",a);z("Firebase.onDisconnect().update",2,b,!0);Tf(this.Tb,
this.Z,a,b)};Z.prototype.update=Z.prototype.update;var hg=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--)e[f]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(c%64),c=Math.floor(c/64);v(0===c,"Cannot push at time == 0");c=e.join("");if(d){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)c+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(b[f]);v(20===c.length,"NextPushId: Length should be 20.");
return c}}();function G(a,b){var c,d,e;if(a instanceof Jf)c=a,d=b;else{x("new Firebase",1,2,arguments.length);d=hc(arguments[0]);c=d.Ve;"firebase"===d.domain&&gc(d.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead");c||gc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com");d.Va||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&M("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");
c=new xb(d.host,d.Va,c,"ws"===d.scheme||"wss"===d.scheme);d=new H(d.Ob);e=d.toString();var f;!(f=!q(c.host)||0===c.host.length||!Da(c.Pa))&&(f=0!==e.length)&&(e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),f=!(q(e)&&0!==e.length&&!Ca.test(e)));if(f)throw Error(y("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(b)if(b instanceof X)e=b;else if(q(b))e=X.gb(),c.wc=b;else throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");
else e=X.gb();f=c.toString();var g=B(e.pb,f);g||(g=new Jf(c),e.pb[f]=g);c=g}F.call(this,c,d)}na(G,F);ma("Firebase",G);module.exports=G;G.prototype.name=function(){x("Firebase.name",0,0,arguments.length);return this.path.f()?null:Ua(this.path)};G.prototype.name=G.prototype.name;
G.prototype.J=function(a){x("Firebase.child",1,1,arguments.length);if(ga(a))a=String(a);else if(!(a instanceof H))if(null===D(this.path)){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/"));Ma("Firebase.child",b)}else Ma("Firebase.child",a);return new G(this.i,this.path.J(a))};G.prototype.child=G.prototype.J;G.prototype.parent=function(){x("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return null===a?null:new G(this.i,a)};G.prototype.parent=G.prototype.parent;
G.prototype.root=function(){x("Firebase.ref",0,0,arguments.length);for(var a=this;null!==a.parent();)a=a.parent();return a};G.prototype.root=G.prototype.root;G.prototype.toString=function(){x("Firebase.toString",0,0,arguments.length);var a;if(null===this.parent())a=this.i.toString();else{a=this.parent().toString()+"/";var b=this.name();a+=encodeURIComponent(String(b))}return a};G.prototype.toString=G.prototype.toString;
G.prototype.set=function(a,b){x("Firebase.set",1,2,arguments.length);C("Firebase.set",this.path);Ea("Firebase.set",a,!1);z("Firebase.set",2,b,!0);this.i.tb(this.path,a,null,b)};G.prototype.set=G.prototype.set;
G.prototype.update=function(a,b){x("Firebase.update",1,2,arguments.length);C("Firebase.update",this.path);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;M("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ia("Firebase.update",a);z("Firebase.update",2,b,!0);if(A(a,".priority"))throw Error("update() does not currently support updating .priority.");
this.i.update(this.path,a,b)};G.prototype.update=G.prototype.update;G.prototype.tb=function(a,b,c){x("Firebase.setWithPriority",2,3,arguments.length);C("Firebase.setWithPriority",this.path);Ea("Firebase.setWithPriority",a,!1);Ja("Firebase.setWithPriority",2,b,!1);z("Firebase.setWithPriority",3,c,!0);if(".length"===this.name()||".keys"===this.name())throw"Firebase.setWithPriority failed: "+this.name()+" is a read-only object.";this.i.tb(this.path,a,b,c)};G.prototype.setWithPriority=G.prototype.tb;
G.prototype.remove=function(a){x("Firebase.remove",0,1,arguments.length);C("Firebase.remove",this.path);z("Firebase.remove",1,a,!0);this.set(null,a)};G.prototype.remove=G.prototype.remove;
G.prototype.transaction=function(a,b,c){x("Firebase.transaction",1,3,arguments.length);C("Firebase.transaction",this.path);z("Firebase.transaction",1,a,!1);z("Firebase.transaction",2,b,!0);if(m(c)&&"boolean"!=typeof c)throw Error(y("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.name()||".keys"===this.name())throw"Firebase.transaction failed: "+this.name()+" is a read-only object.";"undefined"===typeof c&&(c=!0);Vf(this.i,this.path,a,b,c)};G.prototype.transaction=G.prototype.transaction;
G.prototype.sd=function(a,b){x("Firebase.setPriority",1,2,arguments.length);C("Firebase.setPriority",this.path);Ja("Firebase.setPriority",1,a,!1);z("Firebase.setPriority",2,b,!0);this.i.sd(this.path,a,b)};G.prototype.setPriority=G.prototype.sd;G.prototype.push=function(a,b){x("Firebase.push",0,2,arguments.length);C("Firebase.push",this.path);Ea("Firebase.push",a,!0);z("Firebase.push",2,b,!0);var c=Lf(this.i),c=hg(c),c=this.J(c);"undefined"!==typeof a&&null!==a&&c.set(a,b);return c};
G.prototype.push=G.prototype.push;G.prototype.ja=function(){return new Z(this.i,this.path,this.name())};G.prototype.onDisconnect=G.prototype.ja;G.prototype.Ne=function(){M("FirebaseRef.removeOnDisconnect() being deprecated. Please use FirebaseRef.onDisconnect().remove() instead.");this.ja().remove();Uf(this.i)};G.prototype.removeOnDisconnect=G.prototype.Ne;
G.prototype.Se=function(a){M("FirebaseRef.setOnDisconnect(value) being deprecated. Please use FirebaseRef.onDisconnect().set(value) instead.");this.ja().set(a);Uf(this.i)};G.prototype.setOnDisconnect=G.prototype.Se;G.prototype.I=function(a,b,c){M("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead.");x("Firebase.auth",1,3,arguments.length);Na("Firebase.auth",a);z("Firebase.auth",2,b,!0);z("Firebase.auth",3,b,!0);Re(this.i.I,a,{},{remember:"none"},b,c)};
G.prototype.auth=G.prototype.I;G.prototype.yd=function(a){x("Firebase.unauth",0,1,arguments.length);z("Firebase.unauth",1,a,!0);Se(this.i.I,a)};G.prototype.unauth=G.prototype.yd;G.prototype.Yc=function(){x("Firebase.getAuth",0,0,arguments.length);return this.i.I.Yc()};G.prototype.getAuth=G.prototype.Yc;G.prototype.Ce=function(a,b){x("Firebase.onAuth",1,2,arguments.length);z("Firebase.onAuth",1,a,!1);ya("Firebase.onAuth",2,b);this.i.I.Qa("auth_status",a,b)};G.prototype.onAuth=G.prototype.Ce;
G.prototype.Be=function(a,b){x("Firebase.offAuth",1,2,arguments.length);z("Firebase.offAuth",1,a,!1);ya("Firebase.offAuth",2,b);this.i.I.kb("auth_status",a,b)};G.prototype.offAuth=G.prototype.Be;G.prototype.ie=function(a,b,c){x("Firebase.authWithCustomToken",2,3,arguments.length);Na("Firebase.authWithCustomToken",a);z("Firebase.authWithCustomToken",2,b,!1);E("Firebase.authWithCustomToken",3,c,!0);Re(this.i.I,a,{},c||{},b)};G.prototype.authWithCustomToken=G.prototype.ie;
G.prototype.je=function(a,b,c){x("Firebase.authWithOAuthPopup",2,3,arguments.length);Oa("Firebase.authWithOAuthPopup",1,a);z("Firebase.authWithOAuthPopup",2,b,!1);E("Firebase.authWithOAuthPopup",3,c,!0);We(this.i.I,a,c,b)};G.prototype.authWithOAuthPopup=G.prototype.je;
G.prototype.ke=function(a,b,c){x("Firebase.authWithOAuthRedirect",2,3,arguments.length);Oa("Firebase.authWithOAuthRedirect",1,a);z("Firebase.authWithOAuthRedirect",2,b,!1);E("Firebase.authWithOAuthRedirect",3,c,!0);var d=this.i.I;Ue(d);var e=[Ke],f=ue(c);"anonymous"===a||"firebase"===a?O(b,V("TRANSPORT_UNAVAILABLE")):(J.set("redirect_client_options",f.ec),Ve(d,e,"/auth/"+a,f,b))};G.prototype.authWithOAuthRedirect=G.prototype.ke;
G.prototype.le=function(a,b,c,d){x("Firebase.authWithOAuthToken",3,4,arguments.length);Oa("Firebase.authWithOAuthToken",1,a);z("Firebase.authWithOAuthToken",3,c,!1);E("Firebase.authWithOAuthToken",4,d,!0);q(b)?(Oa("Firebase.authWithOAuthToken",2,b),Te(this.i.I,a+"/token",{access_token:b},c)):(E("Firebase.authWithOAuthToken",2,b,!1),Te(this.i.I,a+"/token",b,c))};G.prototype.authWithOAuthToken=G.prototype.le;
G.prototype.he=function(a,b){x("Firebase.authAnonymously",1,2,arguments.length);z("Firebase.authAnonymously",1,a,!1);E("Firebase.authAnonymously",2,b,!0);Te(this.i.I,"anonymous",{},a)};G.prototype.authAnonymously=G.prototype.he;
G.prototype.me=function(a,b,c){x("Firebase.authWithPassword",2,3,arguments.length);E("Firebase.authWithPassword",1,a,!1);Pa("Firebase.authWithPassword",a,"email");Pa("Firebase.authWithPassword",a,"password");z("Firebase.authAnonymously",2,b,!1);E("Firebase.authAnonymously",3,c,!0);Te(this.i.I,"password",a,b)};G.prototype.authWithPassword=G.prototype.me;
G.prototype.Tc=function(a,b){x("Firebase.createUser",2,2,arguments.length);E("Firebase.createUser",1,a,!1);Pa("Firebase.createUser",a,"email");Pa("Firebase.createUser",a,"password");z("Firebase.createUser",2,b,!1);this.i.I.Tc(a,b)};G.prototype.createUser=G.prototype.Tc;G.prototype.pd=function(a,b){x("Firebase.removeUser",2,2,arguments.length);E("Firebase.removeUser",1,a,!1);Pa("Firebase.removeUser",a,"email");Pa("Firebase.removeUser",a,"password");z("Firebase.removeUser",2,b,!1);this.i.I.pd(a,b)};
G.prototype.removeUser=G.prototype.pd;G.prototype.Pc=function(a,b){x("Firebase.changePassword",2,2,arguments.length);E("Firebase.changePassword",1,a,!1);Pa("Firebase.changePassword",a,"email");Pa("Firebase.changePassword",a,"oldPassword");Pa("Firebase.changePassword",a,"newPassword");z("Firebase.changePassword",2,b,!1);this.i.I.Pc(a,b)};G.prototype.changePassword=G.prototype.Pc;
G.prototype.qd=function(a,b){x("Firebase.resetPassword",2,2,arguments.length);E("Firebase.resetPassword",1,a,!1);Pa("Firebase.resetPassword",a,"email");z("Firebase.resetPassword",2,b,!1);this.i.I.qd(a,b)};G.prototype.resetPassword=G.prototype.qd;G.goOffline=function(){x("Firebase.goOffline",0,0,arguments.length);X.gb().Ma()};G.goOnline=function(){x("Firebase.goOnline",0,0,arguments.length);X.gb().qb()};
function dc(a,b){v(!b||!0===a||!1===a,"Can't turn on custom loggers persistently.");!0===a?("undefined"!==typeof console&&("function"===typeof console.log?bc=r(console.log,console):"object"===typeof console.log&&(bc=function(a){console.log(a)})),b&&J.set("logging_enabled",!0)):a?bc=a:(bc=null,J.remove("logging_enabled"))}G.enableLogging=dc;G.ServerValue={TIMESTAMP:{".sv":"timestamp"}};G.SDK_VERSION="1.1.1";G.INTERNAL=Y;G.Context=X;
